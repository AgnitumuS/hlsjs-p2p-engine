{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d4afdeb0959ef377b74e","webpack:///./node_modules/_events@1.1.1@events/events.js","webpack:///./src/core/cdnbye-core/dist/cdnbye-core.js","webpack:///./src/utils/toolFuns.js","webpack:///./node_modules/_url-toolkit@2.1.4@url-toolkit/src/url-toolkit.js","webpack:///./src/bittorrent/index.js","webpack:///./node_modules/_reconnecting-websocket@3.2.2@reconnecting-websocket/dist/index.js","webpack:///./src/index.engine.js","webpack:///./src/config.js","webpack:///./src/bittorrent/bt-tracker.js","webpack:///./src/bittorrent/bt-scheduler.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/signal-client.js","webpack:///./src/bittorrent/bt-loader.js","webpack:///./src/buffer-manager.js","webpack:///./src/utils/logger.js","webpack:///./src/utils/platform.js"],"names":["e","t","exports","module","CDNByeCore","self","r","n","o","i","l","call","m","c","d","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","s","_events","_maxListeners","a","EventEmitter","defaultMaxListeners","setMaxListeners","isNaN","TypeError","emit","u","error","length","arguments","Error","context","Array","slice","apply","addListener","newListener","listener","push","warned","console","trace","on","once","removeListener","splice","removeAllListeners","listeners","listenerCount","value","DC_PING","DC_PONG","DC_SIGNAL","DC_OPEN","DC_REQUEST","DC_PIECE_NOT_FOUND","DC_CLOSE","DC_RESPONSE","DC_ERROR","DC_PIECE","DC_TIMEOUT","DC_PIECE_ACK","DC_BITFIELD","DC_CHOKE","DC_UNCHOKE","DC_INTERESTED","DC_NOTINTERESTED","DC_HAVE","DC_LOST","BM_LOST","RangeError","Uint8Array","__proto__","ArrayBuffer","isView","g","y","buffer","f","valueOf","from","Symbol","toPrimitive","fill","h","isEncoding","write","byteLength","isBuffer","copy","v","type","isArray","data","toString","_","toLowerCase","charCodeAt","constructor","name","iterator","Buffer","kMaxLength","TYPED_ARRAY_SUPPORT","foo","species","writable","alloc","allocUnsafe","_isBuffer","String","concat","copyWithin","set","subarray","getPeersThrottle","getBrowserRTC","Fetcher","Events","DataChannel","ReferenceError","create","setPrototypeOf","assign","key","getPrototypeOf","engine","config","remotePeerId","channelId","connected","msgQueue","miss","rcvdReqQueue","downloading","uploading","choked","delays","fetcher","id","timestamp","version","_datachannel","initiator","objectMode","signInfo","webRTCConfig","isInitiator","_init","streamingRate","recordSended","_adjustStreamingRate","logger","info","shift","_sendPing","event","JSON","parse","_handlePongMsg","sendJson","_prepareForBinary","attachments","url","sn","size","window","clearTimeout","requestTimeout","_handleRequestMsg","_handlePieceAck","bufArr","remainAttachments","bufSN","bufUrl","expectedSize","_handleBinaryData","send","stringify","field","uploadTimeout","setTimeout","_uploadtimeout","bind","dcUploadTimeout","packetSize","Math","floor","urgent","_loadtimeout","dcRequestTimeout","destroy","signal","warn","clearInterval","adjustSRInterval","pinger","unshift","pop","setInterval","round","dcTolerance","ping","performance","now","dcPings","next","done","return","delay","getStats","padStart","channelName","_isChromium","webkitRTCPeerConnection","channelConfig","constraints","_transformConstraints","offerConstraints","answerConstraints","sdpTransform","streams","stream","trickle","destroyed","remoteAddress","remoteFamily","remotePort","localAddress","localPort","_wrtc","wrtc","_pcReady","_channelReady","_iceComplete","_channel","_pendingCandidates","_isNegotiating","_batchedNegotiation","_queuedNegotiation","_sendersAwaitingStable","_senderMap","WeakMap","_remoteTracks","_remoteStreams","_chunk","_cb","_interval","_pc","RTCPeerConnection","_isReactNativeWebrtc","_peerConnectionId","oniceconnectionstatechange","_onIceStateChange","onicegatheringstatechange","onsignalingstatechange","_onSignalingStateChange","onicecandidate","_onIceCandidate","_setupData","channel","createDataChannel","ondatachannel","forEach","addStream","ontrack","_onTrack","_needsNegotiation","code","crypto","getRandomValues","iceServers","urls","bufferedAmount","address","port","family","renegotiate","candidate","remoteDescription","_addIceCandidate","sdp","setRemoteDescription","RTCSessionDescription","_createAnswer","addIceCandidate","RTCIceCandidate","message","getTracks","addTrack","removeTrack","removeStream","negotiate","_createOffer","close","onmessage","onopen","onclose","onerror","binaryType","bufferedAmountLowThreshold","label","_onChannelMessage","onbufferedamountlow","_onChannelBufferedAmountLow","_onChannelOpen","_onChannelClose","createOffer","localDescription","setLocalDescription","createAnswer","iceConnectionState","iceGatheringState","_maybeReady","then","result","names","stat","localCandidateId","ip","Number","ipAddress","portNumber","googLocalAddress","split","remoteCandidateId","googRemoteAddress","selectedCandidatePairId","googActiveConnection","selected","keys","_connecting","_onInterval","unref","WnZTaT","Function","atob","replace","charAt","fromCharCode","indexOf","decodeURIComponent","iJkoxd","HjHyAV","gjHBjC","w","signalingState","sdpMLineIndex","sdpMid","track","some","mandatory","optional","OfferToReceiveVideo","offerToReceiveVideo","OfferToReceiveAudio","offerToReceiveAudio","unescape","encodeURIComponent","b","C","E","super_","baseUrl","btoa","Date","announceInfo","ts","announceURL","conns","failConns","totalHTTPDownloaded","totalP2PDownloaded","totalP2PUploaded","httpDownloaded","p2pDownloaded","errsFragLoad","errsBufStalled","errsInternalExpt","Promise","fetch","headers","_requestHeader","method","body","json","ret","msg","peerId","btStats","report_interval","getPeersURL","statsURL","catch","heartbeater","_makeStatsBody","ok","total","_emitStats","http","p2p","mozRTCPeerConnection","mozRTCSessionDescription","webkitRTCSessionDescription","mozRTCIceCandidate","webkitRTCIceCandidate","handleTSUrl","defaultChannelId","tsPathChecker","noop","matched","browserInfo","streamParsed","parseURL","streamId","netLoc","substr","path","lastSN","lastPath","isOK","announce","urgentOffset","Tracker","FragLoader","P2PEngine","hlsjs","p2pConfig","p2pEnabled","currLoaded","currPlay","HLSEvents","checkTSPath","tsStrictMatched","onLevelLoaded","isLive","details","live","device","getPlatform","netType","getNetType","tag","signalId","wsSignalerAddr","VERSION","off","LEVEL_LOADED","bufMgr","tracker","scheduler","bufferManager","fLoader","FRAG_LOADING","debug","frag","currentLoadingSN","trackerTried","FRAG_LOADED","currentLoadedSN","currLoadedDuration","duration","bitrate","loaded","resumeP2P","loadByHTTP","loadByP2P","FRAG_CHANGED","currentPlaySN","ERROR","fatal","errDetails","ErrorDetails","FRAG_LOAD_ERROR","FRAG_LOAD_TIMEOUT","BUFFER_STALLED_ERROR","INTERNAL_EXCEPTION","DESTROYING","stopP2P","DefaultConfig","loader","disableP2P","WEBRTC_SUPPORT","defaultP2PConfig","wsMaxRetries","wsReconnectInterval","maxBufSize","loadTimeout","enableLogUpload","logUploadAddr","logUploadLevel","logLevel","BTTracker","DCMap","Map","failedDCSet","Set","signalerWs","peers","requestMorePeers","_requestMorePeers","btAnnounce","identifier","_initSignalerWs","_handlePeers","err","clear","peer","filter","node","datachannel","_setupDC","sendSignal","deletePeer","delete","add","decreConns","increFailConns","handshakePeer","cancel","peersNum","increConns","websocket","_tryConnectToAllPeers","action","has","from_peer_id","_handleSignal","receiveSignal","btGetPeers","updatePlaySN","updateLoadingSN","updateLoadedSN","BTScheduler","peerMap","bitset","bitCounts","targetPeer","_broadcastToPeers","loadingSN","hasPeers","requested","idx","values","isAvailable","requestDataBySN","dc","_decreBitCounts","sendBitField","hasIdlePeers","peersHasSN","callbacks","handledUrl","relurl","stats","trequest","retry","tfirst","tload","criticalSeg","requestDataByURL","criticaltimeouter","_criticaltimeout","_increBitCounts","addPeer","reportUploaded","max","response","fromPeerId","onSuccess","addBuffer","getURLbySN","hasSegOfURL","seg","getSegByURL","sendBuffer","index","last","onTimeout","idles","_getIdlePeer","bm","SignalClient","_ws","wsOptions","maxRetries","minReconnectionDelay","queryStr","ws","undefined","msgStr","peer_id","to_peer_id","_send","xhrLoader","abort","urlObj","query","reportFlow","hasAndSetTargetPeer","load","copyAndAddBuffer","loadTimeSample","BufferManager","_segPool","_currBufSize","sn2Url","overflowed","payloadBuf","targetBuffer","segment","addSeg","buf","parseInt","lastSeg","logTypes","none","typesP","typesU","Logger","_initWs","_debugP","_debugU","_infoP","_infoU","_warnP","_warnU","_errorP","_errorU","log","_uploadLog","os","RegExp","exec","_getUA","isAndroid","isIOS","isX5","test","isPC","_toNum","_platform","isSafari","navigator","userAgent","ver","str","parseFloat"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;A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AuD,eAAe;AACtE,oCAAoC;AACpC;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAsF;AACtF;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB,EAAE;AAChD;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;;;ACjKA;;;;AACA;;;;;;AAEA,IAAI1R,SAAS;AACTsS,cAAU,2BADD,EACwD;AACjEC,kBAAc,CAFL,CAEwD;;AAFxD,CAAb;;QAOIC,O;QACUC,U;QACVzS,M,GAAAA,M;;;;;;;ACbJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAE;AACH;AACA;AACA,0BAA0B,kBAAkB,EAAE;AAC9C,+BAA+B,mBAAmB,EAAE;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,oCAAoC,EAAE;AACtE,iCAAiC,mCAAmC,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,KAAK,gBAAgB;AACrB;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK,KAAK;AACV;AACA,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,aAAa;AAC3C,gCAAgC,aAAa;AAC7C,mCAAmC;AACnC,gCAAgC,wIAAwI;AACxK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACtNA;;;;AACA;;;;AA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","file":"./hlsjs-p2p-engine.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"P2PEngine\"] = factory();\n\telse\n\t\troot[\"P2PEngine\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d4afdeb0959ef377b74e","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_events@1.1.1@events/events.js\n// module id = 0\n// module chunks = 0","/*The core component of cdnbye project*/\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.CDNByeCore=t():e.CDNByeCore=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=3)}([function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return\"function\"==typeof e}function o(e){return\"number\"==typeof e}function i(e){return\"object\"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError(\"n must be a positive number\");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,c,u;if(this._events||(this._events={}),\"error\"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified \"error\" event. ('+t+\")\");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),o=u.length,c=0;c<o;c++)u[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError(\"listener must be a function\");return this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[e].length),\"function\"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError(\"listener must be a function\");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit(\"removeListener\",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit(\"removeListener\",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)\"removeListener\"!==t&&this.removeAllListeners(t);return this.removeAllListeners(\"removeListener\"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={DC_PING:\"PING\",DC_PONG:\"PONG\",DC_SIGNAL:\"SIGNAL\",DC_OPEN:\"OPEN\",DC_REQUEST:\"REQUEST\",DC_PIECE_NOT_FOUND:\"PIECE_NOT_FOUND\",DC_CLOSE:\"CLOSE\",DC_RESPONSE:\"RESPONSE\",DC_ERROR:\"ERROR\",DC_PIECE:\"PIECE\",DC_TIMEOUT:\"TIMEOUT\",DC_PIECE_ACK:\"PIECE_ACK\",DC_BITFIELD:\"BITFIELD\",DC_CHOKE:\"CHOKE\",DC_UNCHOKE:\"UNCHOKE\",DC_INTERESTED:\"INTERESTED\",DC_NOTINTERESTED:\"NOT_INTERESTED\",DC_HAVE:\"HAVE\",DC_LOST:\"LOST\",BM_LOST:\"lost\"},e.exports=t.default},function(e,t,n){\"use strict\";function r(e){if(e>m)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"');var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,n){if(\"number\"==typeof e){if(\"string\"==typeof t)throw new TypeError('The \"string\" argument must be of type string. Received type number');return c(e)}return i(e,t,n)}function i(e,t,n){if(\"string\"==typeof e)return u(e,t);if(ArrayBuffer.isView(e))return l(e);if(null==e)throw TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+(void 0===e?\"undefined\":g(e)));if(y(e,ArrayBuffer)||e&&y(e.buffer,ArrayBuffer))return f(e,t,n);if(\"number\"==typeof e)throw new TypeError('The \"value\" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);var i=d(e);if(i)return i;if(\"undefined\"!=typeof Symbol&&null!=Symbol.toPrimitive&&\"function\"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive](\"string\"),t,n);throw new TypeError(\"The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \"+(void 0===e?\"undefined\":g(e)))}function a(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be of type number');if(e<0)throw new RangeError('The value \"'+e+'\" is invalid for option \"size\"')}function s(e,t,n){return a(e),e<=0?r(e):void 0!==t?\"string\"==typeof n?r(e).fill(t,n):r(e).fill(t):r(e)}function c(e){return a(e),r(e<0?0:0|h(e))}function u(e,t){if(\"string\"==typeof t&&\"\"!==t||(t=\"utf8\"),!o.isEncoding(t))throw new TypeError(\"Unknown encoding: \"+t);var n=0|p(e,t),i=r(n),a=i.write(e,t);return a!==n&&(i=i.slice(0,a)),i}function l(e){for(var t=e.length<0?0:0|h(e.length),n=r(t),o=0;o<t;o+=1)n[o]=255&e[o];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('\"offset\" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('\"length\" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),r.__proto__=o.prototype,r}function d(e){if(o.isBuffer(e)){var t=0|h(e.length),n=r(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}return void 0!==e.length?\"number\"!=typeof e.length||v(e.length)?r(0):l(e):\"Buffer\"===e.type&&Array.isArray(e.data)?l(e.data):void 0}function h(e){if(e>=m)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+m.toString(16)+\" bytes\");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||y(e,ArrayBuffer))return e.byteLength;if(\"string\"!=typeof e)throw new TypeError('The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+(void 0===e?\"undefined\":g(e)));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":return _(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;default:if(i)return r?-1:_(e).length;t=(\"\"+t).toLowerCase(),i=!0}}function _(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function v(e){return e!==e}var g=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};t.Buffer=o;var m=2147483647;t.kMaxLength=m,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||\"undefined\"==typeof console||\"function\"!=typeof console.error||console.error(\"This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\"),\"undefined\"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.from=function(e,t,n){return i(e,t,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,n){return s(e,t,n)},o.allocUnsafe=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(y(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError(\"argument should be a Buffer\");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"Index out of range\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&\"function\"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=i-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i}},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.getPeersThrottle=t.getBrowserRTC=t.Buffer=t.Fetcher=t.Events=t.DataChannel=void 0;var o=n(4),i=r(o),a=n(1),s=r(a),c=n(8),u=r(c),l=n(9),f=r(l),d=n(10),h=r(d),p=n(2).Buffer;t.DataChannel=i.default,t.Events=s.default,t.Fetcher=u.default,t.Buffer=p,t.getBrowserRTC=f.default,t.getPeersThrottle=h.default},function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,r){var o=[];if(r){for(var i=void 0,a=0;a<n-1;a++)i=e.slice(a*t,(a+1)*t),o.push(i);i=e.slice(e.byteLength-r,e.byteLength),o.push(i)}else for(var s=void 0,c=0;c<n;c++)s=e.slice(c*t,(c+1)*t),o.push(s);return o}Object.defineProperty(t,\"__esModule\",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(5),f=r(l),d=n(0),h=r(d),p=n(1),_=r(p),y=n(2).Buffer,v=function(e){function t(e,n,r,a,s){o(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u.engine=e,u.config=s,u.remotePeerId=r,u.channelId=a?n+\"-\"+r:r+\"-\"+n,u.connected=!1,u.msgQueue=[],u.miss=0,u.rcvdReqQueue=[],u.downloading=!1,u.uploading=!1,u.choked=!1,u.delays=[];var l=u.engine.fetcher,d=l.channelId,h=l.id,p=l.timestamp,_=l.v,y=u.engine.version;return u._datachannel=new f.default(c({initiator:a,objectMode:!0,signInfo:{channelId:d,id:h,timestamp:p,version:y,v:_}},u.config.webRTCConfig)),u.isInitiator=a,u._init(u._datachannel),u.streamingRate=0,u.recordSended=u._adjustStreamingRate(10),u}return a(t,e),u(t,null,[{key:\"VERSION\",get:function(){return\"v1\"}}]),u(t,[{key:\"_init\",value:function(e){var t=this,n=this.engine.logger;e.on(\"error\",function(e){t.emit(_.default.DC_ERROR)}),e.on(\"signal\",function(e){t.emit(_.default.DC_SIGNAL,e)});var r=function(){n.info(\"datachannel CONNECTED to \"+t.remotePeerId);var e=[\"toString\",\"remotePeerId\",\"connected\",\"length\",\"charCodeAt\"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(e,377);var r=function(t,n){return t-=0,e[t]};for(t[r(\"0x0\")]=function(e){for(var t=0,n=0;n<e[r(\"0x1\")]-1;n++)t+=e[r(\"0x2\")](n);return e[e[r(\"0x1\")]-1]===(t%16)[r(\"0x3\")](16)}(t[r(\"0x4\")]),t.emit(_.default.DC_OPEN),t._sendPing();t.msgQueue.length>0;){var o=t.msgQueue.shift();t.emit(o.event,o)}};e.once(\"connect\",r),e.on(\"data\",function(e){if(\"string\"==typeof e){var n=JSON.parse(e);if(!t.connected)return void t.msgQueue.push(n);switch(n.event){case _.default.DC_PONG:t._handlePongMsg();break;case _.default.DC_PING:t.sendJson({event:_.default.DC_PONG});break;case _.default.DC_PIECE:t._prepareForBinary(n.attachments,n.url,n.sn,n.size),t.emit(n.event,n);break;case _.default.DC_PIECE_NOT_FOUND:window.clearTimeout(t.requestTimeout),t.requestTimeout=null,t.emit(n.event,n);break;case _.default.DC_REQUEST:t._handleRequestMsg(n);break;case _.default.DC_PIECE_ACK:t._handlePieceAck(),t.emit(n.event,n);break;case _.default.DC_CHOKE:t.choked=!0;break;case _.default.DC_UNCHOKE:t.choked=!1;break;default:t.emit(n.event,n)}}else t.bufArr.push(e),0===--t.remainAttachments&&(window.clearTimeout(t.requestTimeout),t.requestTimeout=null,t.sendJson({event:_.default.DC_PIECE_ACK,sn:t.bufSN,url:t.bufUrl,size:t.expectedSize}),t._handleBinaryData())}),e.once(\"close\",function(){t.emit(_.default.DC_CLOSE)})}},{key:\"sendJson\",value:function(e){this.send(JSON.stringify(e))}},{key:\"send\",value:function(e){this._datachannel&&this._datachannel.connected&&this._datachannel.send(e)}},{key:\"sendBitField\",value:function(e){this.sendJson({event:_.default.DC_BITFIELD,field:e})}},{key:\"sendBuffer\",value:function(e,t,n){this.uploading=!0,this.uploadTimeout=window.setTimeout(this._uploadtimeout.bind(this),1e3*this.config.dcUploadTimeout);var r=n.byteLength,o=this.config.packetSize,i=0,a=0;r%o==0?a=r/o:(a=Math.floor(r/o)+1,i=r%o);var c={event:_.default.DC_PIECE,attachments:a,url:t,sn:e,size:r};this.sendJson(c);for(var u=s(n,o,a,i),l=0;l<u.length;l++)this.send(u[l]);this.recordSended(r)}},{key:\"requestDataByURL\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={event:_.default.DC_REQUEST,url:e,urgent:t};this.downloading=!0,this.sendJson(n),t&&(this.requestTimeout=window.setTimeout(this._loadtimeout.bind(this),1e3*this.config.dcRequestTimeout))}},{key:\"requestDataBySN\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={event:_.default.DC_REQUEST,sn:e,urgent:t};this.downloading=!0,this.sendJson(n),t&&(this.requestTimeout=window.setTimeout(this._loadtimeout.bind(this),1e3*this.config.dcRequestTimeout))}},{key:\"close\",value:function(){this.destroy()}},{key:\"receiveSignal\",value:function(e){this._datachannel.signal(e)}},{key:\"destroy\",value:function(){this.engine.logger.warn(\"destroy datachannel \"+this.channelId),window.clearInterval(this.adjustSRInterval),window.clearInterval(this.pinger),this._datachannel.removeAllListeners(),this.removeAllListeners(),this._datachannel.destroy()}},{key:\"_handleRequestMsg\",value:function(e){this.rcvdReqQueue.length>0?e.urgent?this.rcvdReqQueue.push(e.sn):this.rcvdReqQueue.unshift(e.sn):this.emit(_.default.DC_REQUEST,e)}},{key:\"_handlePieceAck\",value:function(){if(this.uploading=!1,window.clearTimeout(this.uploadTimeout),this.uploadTimeout=null,this.rcvdReqQueue.length>0){var e=this.rcvdReqQueue.pop();this.emit(_.default.DC_REQUEST,{sn:e})}}},{key:\"_prepareForBinary\",value:function(e,t,n,r){this.bufArr=[],this.remainAttachments=e,this.bufUrl=t,this.bufSN=n,this.expectedSize=r}},{key:\"_handleBinaryData\",value:function(){var e=y.concat(this.bufArr);e.byteLength==this.expectedSize&&this.emit(_.default.DC_RESPONSE,{url:this.bufUrl,sn:this.bufSN,data:e}),this.bufUrl=\"\",this.bufArr=[],this.expectedSize=-1,this.downloading=!1}},{key:\"_adjustStreamingRate\",value:function(e){var t=this,n=0;return this.adjustSRInterval=window.setInterval(function(){t.streamingRate=Math.round(8*n/e),n=0},1e3*e),function(e){n+=e}}},{key:\"_loadtimeout\",value:function(){var e=this.engine.logger;if(e.warn(\"datachannel timeout while downloading from \"+this.remotePeerId),this.emit(_.default.DC_TIMEOUT),this.requestTimeout=null,this.downloading=!1,++this.miss>=this.config.dcTolerance){var t={event:_.default.DC_CLOSE};this.sendJson(t),e.warn(\"datachannel download miss reach dcTolerance, close \"+this.remotePeerId),this.emit(_.default.DC_ERROR)}}},{key:\"_uploadtimeout\",value:function(){this.engine.logger.warn(\"datachannel timeout while uploading to \"+this.remotePeerId),this.uploading=!1,this.rcvdReqQueue=[]}},{key:\"_sendPing\",value:function(){var e=this;this.ping=performance.now();for(var t=0;t<this.config.dcPings;t++)this.sendJson({event:_.default.DC_PING});window.setTimeout(function(){if(e.delays.length>0){var t=0,n=!0,r=!1,o=void 0;try{for(var i,a=e.delays[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){t+=i.value}}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}e.delay=t/e.delays.length,e.delays=[]}},100)}},{key:\"_handlePongMsg\",value:function(){var e=performance.now()-this.ping;this.delays.push(e)}},{key:\"setupStats\",value:function(){var e=this,t=this.engine.logger;setInterval(function(){e._datachannel.getStats(function(e,n){t.warn(\"reports: \"+JSON.stringify(n,null,1))})},1e4)}},{key:\"isAvailable\",get:function(){return!1===this.downloading&&!1===this.choked}}]),t}(h.default);t.default=v,e.exports=t.default},function(e,t,n){\"use strict\";function r(e){for(var t=\"\",n=0;n<e.length;++n)t+=e[n].toString(16).padStart(2,\"0\");return t}function o(e){var t=this;if(!(t instanceof o))return new o(e);l.call(t),t.signInfo=e.signInfo,t.channelName=e.initiator?e.channelName||r(d(20)):null,t._isChromium=\"undefined\"!=typeof window&&!!window.webkitRTCPeerConnection,t.initiator=e.initiator||!1,t.channelConfig=e.channelConfig||o.channelConfig,t.config=e.config||o.config,t.constraints=t._transformConstraints(e.constraints||o.constraints),t.offerConstraints=t._transformConstraints(e.offerConstraints||{}),t.answerConstraints=t._transformConstraints(e.answerConstraints||{}),t.sdpTransform=e.sdpTransform||function(e){return e},t.streams=e.streams||(e.stream?[e.stream]:[]),t.trickle=void 0===e.trickle||e.trickle,t.destroyed=!1,t.connected=!1,t.remoteAddress=void 0,t.remoteFamily=void 0,t.remotePort=void 0,t.localAddress=void 0,t.localPort=void 0,t._wrtc=e.wrtc&&\"object\"===s(e.wrtc)?e.wrtc:window,t._pcReady=!1,t._channelReady=!1,t._iceComplete=!1,t._channel=null,t._pendingCandidates=[],t._isNegotiating=!1,t._batchedNegotiation=!1,t._queuedNegotiation=!1,t._sendersAwaitingStable=[],t._senderMap=new WeakMap,t._remoteTracks=[],t._remoteStreams=[],t._chunk=null,t._cb=null,t._interval=null,t._pc=new t._wrtc.RTCPeerConnection(t.config,t.constraints),t._isReactNativeWebrtc=\"number\"==typeof t._pc._peerConnectionId,t._pc.oniceconnectionstatechange=function(){t._onIceStateChange()},t._pc.onicegatheringstatechange=function(){t._onIceStateChange()},t._pc.onsignalingstatechange=function(){t._onSignalingStateChange()},t._pc.onicecandidate=function(e){t._onIceCandidate(e)},t.initiator?t._setupData({channel:t._pc.createDataChannel(t.channelName,t.channelConfig)}):t._pc.ondatachannel=function(e){t._setupData(e)},\"addTrack\"in t._pc&&(t.streams&&t.streams.forEach(function(e){t.addStream(e)}),t._pc.ontrack=function(e){t._onTrack(e)}),t.initiator&&t._needsNegotiation()}function i(e,t){var n=new Error(e);return n.code=t,n}function a(){}var s=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},c=n(6),u=function(e){return e&&e.__esModule?e:{default:e}}(c);e.exports=o;var l=n(0),f=n(7),d=function(e){var t=new Uint8Array(e);return window.crypto.getRandomValues(t),t};f(o,l),o.config={iceServers:[{urls:\"stun:stun.l.google.com:19302\"},{urls:\"stun:global.stun.twilio.com:3478?transport=udp\"}]},o.constraints={},o.channelConfig={},Object.defineProperty(o.prototype,\"bufferSize\",{get:function(){var e=this;return e._channel&&e._channel.bufferedAmount||0}}),o.prototype.address=function(){var e=this;return{port:e.localPort,family:\"IPv4\",address:e.localAddress}},o.prototype.signal=function(e){var t=this;if(t.destroyed)throw i(\"cannot signal after peer is destroyed\",\"ERR_SIGNALING\");if(\"string\"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}e.renegotiate&&t._needsNegotiation(),e.candidate&&(t._pc.remoteDescription&&t._pc.remoteDescription.type?t._addIceCandidate(e.candidate):t._pendingCandidates.push(e.candidate)),e.sdp&&t._pc.setRemoteDescription(new t._wrtc.RTCSessionDescription(e),function(){t.destroyed||(t._pendingCandidates.forEach(function(e){t._addIceCandidate(e)}),t._pendingCandidates=[],\"offer\"===t._pc.remoteDescription.type&&t._createAnswer())},function(e){t.destroy(i(e,\"ERR_SET_REMOTE_DESCRIPTION\"))}),e.sdp||e.candidate||e.renegotiate||t.destroy(i(\"signal() called with invalid signal data\",\"ERR_SIGNALING\"))},o.prototype._addIceCandidate=function(e){var t=this;try{t._pc.addIceCandidate(new t._wrtc.RTCIceCandidate(e),a,function(e){t.destroy(i(e,\"ERR_ADD_ICE_CANDIDATE\"))})}catch(e){t.destroy(i(\"error adding candidate: \"+e.message,\"ERR_ADD_ICE_CANDIDATE\"))}},o.prototype.send=function(e){this._channel.send(e)},o.prototype.addStream=function(e){var t=this;e.getTracks().forEach(function(n){t.addTrack(n,e)})},o.prototype.addTrack=function(e,t){var n=this,r=n._pc.addTrack(e,t),o=n._senderMap.get(e)||new WeakMap;o.set(t,r),n._senderMap.set(e,o),n._needsNegotiation()},o.prototype.removeTrack=function(e,t){var n=this,r=n._senderMap.get(e),o=r?r.get(t):null;o||n.destroy(new Error(\"Cannot remove track that was never added.\"));try{n._pc.removeTrack(o)}catch(e){\"NS_ERROR_UNEXPECTED\"===e.name?n._sendersAwaitingStable.push(o):n.destroy(e)}},o.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(n){t.removeTrack(n,e)})},o.prototype._needsNegotiation=function(){var e=this;e._batchedNegotiation||(e._batchedNegotiation=!0,setTimeout(function(){e._batchedNegotiation=!1,e.negotiate()},0))},o.prototype.negotiate=function(){var e=this;e.initiator?e._isNegotiating?e._queuedNegotiation=!0:e._createOffer():e.emit(\"signal\",{renegotiate:!0}),e._isNegotiating=!0},o.prototype.destroy=function(e){var t=this;if(!t.destroyed){if(t.destroyed=!0,t.connected=!1,t._pcReady=!1,t._channelReady=!1,t._remoteTracks=null,t._remoteStreams=null,t._senderMap=null,clearInterval(t._interval),t._interval=null,t._chunk=null,t._cb=null,t._channel){try{t._channel.close()}catch(e){}t._channel.onmessage=null,t._channel.onopen=null,t._channel.onclose=null,t._channel.onerror=null}if(t._pc){try{t._pc.close()}catch(e){}t._pc.oniceconnectionstatechange=null,t._pc.onicegatheringstatechange=null,t._pc.onsignalingstatechange=null,t._pc.onicecandidate=null,\"addTrack\"in t._pc&&(t._pc.ontrack=null),t._pc.ondatachannel=null}t._pc=null,t._channel=null,e&&t.emit(\"error\",e),t.emit(\"close\")}},o.prototype._setupData=function(e){var t=this;if(!e.channel)return t.destroy(i(\"Data channel event is missing `channel` property\",\"ERR_DATA_CHANNEL\"));t._channel=e.channel,t._channel.binaryType=\"arraybuffer\",\"number\"==typeof t._channel.bufferedAmountLowThreshold&&(t._channel.bufferedAmountLowThreshold=65536),t.channelName=t._channel.label,t._channel.onmessage=function(e){t._onChannelMessage(e)},t._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},t._channel.onopen=function(){t._onChannelOpen()},t._channel.onclose=function(){t._onChannelClose()},t._channel.onerror=function(e){t.destroy(i(e,\"ERR_DATA_CHANNEL\"))}},o.prototype._createOffer=function(){var e=this;e.destroyed||e._pc.createOffer(function(t){function n(){e.destroyed||(e.trickle||e._iceComplete?o():e.once(\"_iceComplete\",o))}function r(t){e.destroy(i(t,\"ERR_SET_LOCAL_DESCRIPTION\"))}function o(){var n=e._pc.localDescription||t;e.emit(\"signal\",{type:n.type,sdp:n.sdp})}e.destroyed||(t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t,n,r))},function(t){e.destroy(i(t,\"ERR_CREATE_OFFER\"))},e.offerConstraints)},o.prototype._createAnswer=function(){var e=this;e.destroyed||e._pc.createAnswer(function(t){function n(){e.destroyed||(e.trickle||e._iceComplete?o():e.once(\"_iceComplete\",o))}function r(t){e.destroy(i(t,\"ERR_SET_LOCAL_DESCRIPTION\"))}function o(){var n=e._pc.localDescription||t;e.emit(\"signal\",{type:n.type,sdp:n.sdp})}e.destroyed||(t.sdp=e.sdpTransform(t.sdp),e._pc.setLocalDescription(t,n,r))},function(t){e.destroy(i(t,\"ERR_CREATE_ANSWER\"))},e.answerConstraints)},o.prototype._onIceStateChange=function(){var e=this;if(!e.destroyed){var t=e._pc.iceConnectionState,n=e._pc.iceGatheringState;e.emit(\"iceStateChange\",t,n),\"connected\"!==t&&\"completed\"!==t||(e._pcReady=!0,e._maybeReady()),\"failed\"===t&&e.destroy(i(\"Ice connection failed.\",\"ERR_ICE_CONNECTION_FAILURE\")),\"closed\"===t&&e.destroy(new Error(\"Ice connection closed.\"))}},o.prototype.getStats=function(e){var t=this;0===t._pc.getStats.length?t._pc.getStats().then(function(t){var n=[];t.forEach(function(e){n.push(e)}),e(null,n)},function(t){e(t)}):t._isReactNativeWebrtc?t._pc.getStats(null,function(t){var n=[];t.forEach(function(e){n.push(e)}),e(null,n)},function(t){e(t)}):t._pc.getStats.length>0?t._pc.getStats(function(n){if(!t.destroyed){var r=[];n.result().forEach(function(e){var t={};e.names().forEach(function(n){t[n]=e.stat(n)}),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,r.push(t)}),e(null,r)}},function(t){e(t)}):e(null,[])},o.prototype._maybeReady=function(){function e(){t.destroyed||t.getStats(function(n,r){function o(e){l=!0;var n=s[e.localCandidateId];n&&n.ip?(t.localAddress=n.ip,t.localPort=Number(n.port)):n&&n.ipAddress?(t.localAddress=n.ipAddress,t.localPort=Number(n.portNumber)):\"string\"==typeof e.googLocalAddress&&(n=e.googLocalAddress.split(\":\"),t.localAddress=n[0],t.localPort=Number(n[1]));var r=a[e.remoteCandidateId];r&&r.ip?(t.remoteAddress=r.ip,t.remotePort=Number(r.port)):r&&r.ipAddress?(t.remoteAddress=r.ipAddress,t.remotePort=Number(r.portNumber)):\"string\"==typeof e.googRemoteAddress&&(r=e.googRemoteAddress.split(\":\"),t.remoteAddress=r[0],t.remotePort=Number(r[1])),t.remoteFamily=\"IPv4\"}if(!t.destroyed){n&&(r=[]);var a={},s={},c={},l=!1;if(r.forEach(function(e){\"remotecandidate\"!==e.type&&\"remote-candidate\"!==e.type||(a[e.id]=e),\"localcandidate\"!==e.type&&\"local-candidate\"!==e.type||(s[e.id]=e),\"candidatepair\"!==e.type&&\"candidate-pair\"!==e.type||(c[e.id]=e)}),r.forEach(function(e){\"transport\"===e.type&&e.selectedCandidatePairId&&o(c[e.selectedCandidatePairId]),(\"googCandidatePair\"===e.type&&\"true\"===e.googActiveConnection||(\"candidatepair\"===e.type||\"candidate-pair\"===e.type)&&e.selected)&&o(e)}),!(l||Object.keys(c).length&&!Object.keys(s).length))return void setTimeout(e,100);if(t._connecting=!1,t.connected=!0,t._chunk){try{t.send(t._chunk)}catch(n){return t.destroy(i(n,\"ERR_DATA_CHANNEL\"))}t._chunk=null;var f=t._cb;t._cb=null,f(null)}\"number\"!=typeof t._channel.bufferedAmountLowThreshold&&(t._interval=setInterval(function(){t._onInterval()},150),t._interval.unref&&t._interval.unref());var d=[\"WiDCjR8=\",\"esK4VxLCkxY=\",\"IcKVfVfCr8OZw64=\",\"w5BSwo3CsW0qw6HDnA==\"];!function(e,t){!function(t){for(;--t;)e.push(e.shift())}(++t)}(d,179);var h=function e(t,n){t-=0;var r=d[t];if(void 0===e.WnZTaT){!function(){var e;try{var t=Function('return (function() {}.constructor(\"return this\")( ));');e=t()}catch(t){e=window}e.atob||(e.atob=function(e){for(var t,n,r=String(e).replace(/=+$/,\"\"),o=0,i=0,a=\"\";n=r.charAt(i++);~n&&(t=o%4?64*t+n:n,o++%4)?a+=String.fromCharCode(255&t>>(-2*o&6)):0)n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".indexOf(n);return a})}();var o=function(e,t){var n,r=[],o=0,i=\"\",a=\"\";e=atob(e);for(var s=0,c=e.length;s<c;s++)a+=\"%\"+(\"00\"+e.charCodeAt(s).toString(16)).slice(-2);e=decodeURIComponent(a);for(var u=0;u<256;u++)r[u]=u;for(u=0;u<256;u++)o=(o+r[u]+t.charCodeAt(u%t.length))%256,n=r[u],r[u]=r[o],r[o]=n;u=0,o=0;for(var l=0;l<e.length;l++)u=(u+1)%256,o=(o+r[u])%256,n=r[u],r[u]=r[o],r[o]=n,i+=String.fromCharCode(e.charCodeAt(l)^r[(r[u]+r[o])%256]);return i};e.iJkoxd=o,e.HjHyAV={},e.WnZTaT=!![]}var i=e.HjHyAV[t];return void 0===i?(void 0===e.gjHBjC&&(e.gjHBjC=!![]),r=e.iJkoxd(r,n),e.HjHyAV[t]=r):r=i,r},p=t[h(\"0x0\",\"2h%(\")],_=p.channelId,y=p.id,v=p.timestamp,g=p.version,m=p.v,w=function(e,t,n,r){return(0,u.default)(e+t+n+\"CDNBye@0902xhl\",r)}(_,y,v,g);t[h(\"0x1\",\"5gPd\")](w[h(\"0x2\",\"M%uF\")](0,8)===m?h(\"0x3\",\"08KY\"):\"\")}})}var t=this;!t.connected&&!t._connecting&&t._pcReady&&t._channelReady&&(t._connecting=!0,e())},o.prototype._onInterval=function(){var e=this;!e._cb||!e._channel||e._channel.bufferedAmount>65536||e._onChannelBufferedAmountLow()},o.prototype._onSignalingStateChange=function(){var e=this;e.destroyed||(\"stable\"===e._pc.signalingState&&(e._isNegotiating=!1,e._sendersAwaitingStable.forEach(function(t){e.removeTrack(t),e._queuedNegotiation=!0}),e._sendersAwaitingStable=[],e._queuedNegotiation&&(e._queuedNegotiation=!1,e._needsNegotiation()),e.emit(\"negotiate\")),e.emit(\"signalingStateChange\",e._pc.signalingState))},o.prototype._onIceCandidate=function(e){var t=this;t.destroyed||(e.candidate&&t.trickle?t.emit(\"signal\",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||(t._iceComplete=!0,t.emit(\"_iceComplete\")))},o.prototype._onChannelMessage=function(e){var t=this;if(!t.destroyed){var n=e.data;n instanceof ArrayBuffer&&(n=new Uint8Array(n)),t.emit(\"data\",n)}},o.prototype._onChannelBufferedAmountLow=function(){var e=this;if(!e.destroyed&&e._cb){var t=e._cb;e._cb=null,t(null)}},o.prototype._onChannelOpen=function(){var e=this;e.connected||e.destroyed||(e._channelReady=!0,e._maybeReady())},o.prototype._onChannelClose=function(){var e=this;e.destroyed||e.destroy()},o.prototype._onTrack=function(e){var t=this;t.destroyed||e.streams.forEach(function(n){t.emit(\"track\",e.track,n),t._remoteTracks.push({track:e.track,stream:n}),t._remoteStreams.some(function(e){return e.id===n.id})||(t._remoteStreams.push(n),setTimeout(function(){t.emit(\"stream\",n)},0))})},o.prototype._transformConstraints=function(e){var t=this;if(0===Object.keys(e).length)return e;if((e.mandatory||e.optional)&&!t._isChromium){var n=Object.assign({},e.optional,e.mandatory);return void 0!==n.OfferToReceiveVideo&&(n.offerToReceiveVideo=n.OfferToReceiveVideo,delete n.OfferToReceiveVideo),void 0!==n.OfferToReceiveAudio&&(n.offerToReceiveAudio=n.OfferToReceiveAudio,delete n.OfferToReceiveAudio),n}return e.mandatory||e.optional||!t._isChromium?e:(void 0!==e.offerToReceiveVideo&&(e.OfferToReceiveVideo=e.offerToReceiveVideo,delete e.offerToReceiveVideo),void 0!==e.offerToReceiveAudio&&(e.OfferToReceiveAudio=e.offerToReceiveAudio,delete e.offerToReceiveAudio),{mandatory:e})}},function(e,t,n){\"use strict\";var r;\"function\"==typeof Symbol&&Symbol.iterator;!function(o){function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t){return e<<t|e>>>32-t}function s(e,t,n,r,o,s){return i(a(i(i(t,e),i(r,s)),o),n)}function c(e,t,n,r,o,i,a){return s(t&n|~t&r,e,t,o,i,a)}function u(e,t,n,r,o,i,a){return s(t&r|n&~r,e,t,o,i,a)}function l(e,t,n,r,o,i,a){return s(t^n^r,e,t,o,i,a)}function f(e,t,n,r,o,i,a){return s(n^(t|~r),e,t,o,i,a)}function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,o,a,s,d=1732584193,h=-271733879,p=-1732584194,_=271733878;for(n=0;n<e.length;n+=16)r=d,o=h,a=p,s=_,d=c(d,h,p,_,e[n],7,-680876936),_=c(_,d,h,p,e[n+1],12,-389564586),p=c(p,_,d,h,e[n+2],17,606105819),h=c(h,p,_,d,e[n+3],22,-1044525330),d=c(d,h,p,_,e[n+4],7,-176418897),_=c(_,d,h,p,e[n+5],12,1200080426),p=c(p,_,d,h,e[n+6],17,-1473231341),h=c(h,p,_,d,e[n+7],22,-45705983),d=c(d,h,p,_,e[n+8],7,1770035416),_=c(_,d,h,p,e[n+9],12,-1958414417),p=c(p,_,d,h,e[n+10],17,-42063),h=c(h,p,_,d,e[n+11],22,-1990404162),d=c(d,h,p,_,e[n+12],7,1804603682),_=c(_,d,h,p,e[n+13],12,-40341101),p=c(p,_,d,h,e[n+14],17,-1502002290),h=c(h,p,_,d,e[n+15],22,1236535329),d=u(d,h,p,_,e[n+1],5,-165796510),_=u(_,d,h,p,e[n+6],9,-1069501632),p=u(p,_,d,h,e[n+11],14,643717713),h=u(h,p,_,d,e[n],20,-373897302),d=u(d,h,p,_,e[n+5],5,-701558691),_=u(_,d,h,p,e[n+10],9,38016083),p=u(p,_,d,h,e[n+15],14,-660478335),h=u(h,p,_,d,e[n+4],20,-405537848),d=u(d,h,p,_,e[n+9],5,568446438),_=u(_,d,h,p,e[n+14],9,-1019803690),p=u(p,_,d,h,e[n+3],14,-187363961),h=u(h,p,_,d,e[n+8],20,1163531501),d=u(d,h,p,_,e[n+13],5,-1444681467),_=u(_,d,h,p,e[n+2],9,-51403784),p=u(p,_,d,h,e[n+7],14,1735328473),h=u(h,p,_,d,e[n+12],20,-1926607734),d=l(d,h,p,_,e[n+5],4,-378558),_=l(_,d,h,p,e[n+8],11,-2022574463),p=l(p,_,d,h,e[n+11],16,1839030562),h=l(h,p,_,d,e[n+14],23,-35309556),d=l(d,h,p,_,e[n+1],4,-1530992060),_=l(_,d,h,p,e[n+4],11,1272893353),p=l(p,_,d,h,e[n+7],16,-155497632),h=l(h,p,_,d,e[n+10],23,-1094730640),d=l(d,h,p,_,e[n+13],4,681279174),_=l(_,d,h,p,e[n],11,-358537222),p=l(p,_,d,h,e[n+3],16,-722521979),h=l(h,p,_,d,e[n+6],23,76029189),d=l(d,h,p,_,e[n+9],4,-640364487),_=l(_,d,h,p,e[n+12],11,-421815835),p=l(p,_,d,h,e[n+15],16,530742520),h=l(h,p,_,d,e[n+2],23,-995338651),d=f(d,h,p,_,e[n],6,-198630844),_=f(_,d,h,p,e[n+7],10,1126891415),p=f(p,_,d,h,e[n+14],15,-1416354905),h=f(h,p,_,d,e[n+5],21,-57434055),d=f(d,h,p,_,e[n+12],6,1700485571),_=f(_,d,h,p,e[n+3],10,-1894986606),p=f(p,_,d,h,e[n+10],15,-1051523),h=f(h,p,_,d,e[n+1],21,-2054922799),d=f(d,h,p,_,e[n+8],6,1873313359),_=f(_,d,h,p,e[n+15],10,-30611744),p=f(p,_,d,h,e[n+6],15,-1560198380),h=f(h,p,_,d,e[n+13],21,1309151649),d=f(d,h,p,_,e[n+4],6,-145523070),_=f(_,d,h,p,e[n+11],10,-1120210379),p=f(p,_,d,h,e[n+2],15,718787259),h=f(h,p,_,d,e[n+9],21,-343485551),d=i(d,r),h=i(h,o),p=i(p,a),_=i(_,s);return[d,h,p,_]}function h(e){var t,n=\"\",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function p(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function _(e){return h(d(p(e),8*e.length))}function y(e,t){var n,r,o=p(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=d(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=d(i.concat(p(t)),512+8*t.length),h(d(a.concat(r),640))}function v(e){var t,n,r=\"0123456789abcdef\",o=\"\";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function g(e){return unescape(encodeURIComponent(e))}function m(e){return _(g(e))}function w(e){return v(m(e))}function b(e,t){return y(g(e),g(t))}function C(e,t){return v(b(e,t))}function E(e,t,n){return t?n?b(t,e):C(t,e):n?m(e):w(e)}void 0!==(r=function(){return E}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t){\"function\"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,i,a,s){r(this,e),this.engine=t,this.key=n,this.baseUrl=a,this.channelId=window.btoa(i),this.timestamp=Date.parse(new Date)/1e3,this.announceInfo=o({},s,{channel:this.channelId,ts:this.timestamp}),this.announceURL=a+\"/channel\",this.key=n,this.conns=0,this.failConns=0,this.totalHTTPDownloaded=0,this.totalP2PDownloaded=0,this.totalP2PUploaded=0,this.httpDownloaded=0,this.p2pDownloaded=0,this.errsFragLoad=0,this.errsBufStalled=0,this.errsInternalExpt=0}return i(e,[{key:\"btAnnounce\",value:function(){var e=this,t=this.engine.logger;return new Promise(function(n,r){fetch(e.announceURL,{headers:e._requestHeader,method:\"POST\",body:JSON.stringify(e.announceInfo)}).then(function(e){return e.json()}).then(function(t){if(-1===t.ret)r(t.data.msg);else{var o=t.data;e.peerId=e.id=o.id,e.v=o.v,e.btStats(o.report_interval),e.getPeersURL=e.baseUrl+\"/channel/\"+e.channelId+\"/node/\"+e.peerId+\"/peers\",e.statsURL=e.baseUrl+\"/channel/\"+e.channelId+\"/node/\"+e.peerId+\"/stats\",n(t.data)}}).catch(function(e){t.error(\"btAnnounce error \"+e),r(e)})})}},{key:\"btStats\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=this.engine.logger;this.heartbeater=window.setInterval(function(){fetch(e.statsURL,{headers:e._requestHeader,method:\"POST\",body:JSON.stringify(e._makeStatsBody())}).then(function(t){t.ok&&(n.info(\"sucessfully report stats\"),e.httpDownloaded=0,e.p2pDownloaded=0,e.conns=0,e.failConns=0,e.errsFragLoad=0,e.errsBufStalled=0,e.errsInternalExpt=0)}).catch(function(e){n.error(\"btStats error \"+e)})},1e3*t)}},{key:\"btGetPeers\",value:function(){var e=this,t=this.engine.logger;return new Promise(function(n,r){fetch(e.getPeersURL,{headers:e._requestHeader,method:\"POST\"}).then(function(e){return e.json()}).then(function(e){-1===e.ret?r(e.data.msg):n(e.data)}).catch(function(e){t.error(\"btGetPeers error \"+e),r(e)})})}},{key:\"increConns\",value:function(){this.conns++}},{key:\"decreConns\",value:function(){this.conns--}},{key:\"increFailConns\",value:function(){this.failConns++}},{key:\"reportFlow\",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Math.round(e.total/1024);t?(this.p2pDownloaded+=n,this.totalP2PDownloaded+=n):(this.httpDownloaded+=n,this.totalHTTPDownloaded+=n),this._emitStats()}},{key:\"reportUploaded\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.totalP2PUploaded+=Math.round(e/1024),this._emitStats()}},{key:\"destroy\",value:function(){this.engine.logger.warn(\"destroy fetcher\"),window.clearInterval(this.heartbeater)}},{key:\"_emitStats\",value:function(){this.engine.emit(\"stats\",{totalHTTPDownloaded:this.totalHTTPDownloaded,totalP2PDownloaded:this.totalP2PDownloaded,totalP2PUploaded:this.totalP2PUploaded})}},{key:\"_makeStatsBody\",value:function(){var e={conns:this.conns,failConns:this.failConns,errsFragLoad:this.errsFragLoad,errsBufStalled:this.errsBufStalled,errsInternalExpt:this.errsInternalExpt,http:Math.round(this.httpDownloaded),p2p:Math.round(this.p2pDownloaded)};return Object.keys(e).forEach(function(t){0===e[t]&&delete e[t]}),e}},{key:\"_requestHeader\",get:function(){return{}}}]),e}();t.default=a,e.exports=t.default},function(e,t){e.exports=function(){if(\"undefined\"==typeof window)return null;var e={RTCPeerConnection:window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,RTCSessionDescription:window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription,RTCIceCandidate:window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},function(e,t,n){\"use strict\";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=null,o=!1;return function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return void window.clearTimeout(r);o||(o=!0,r=setTimeout(function(){e.call(t),o=!1,r=null},1e3*n))}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=r,e.exports=t.default}])});\n\n\n// WEBPACK FOOTER //\n// ./src/core/cdnbye-core/dist/cdnbye-core.js","import URLToolkit from 'url-toolkit';\n\n// 根据参数决定是否去掉ts的url的查询参数\nexport function handleTSUrl(url, matched = false) {\n    if (!matched) {\n        return url.split(\"?\")[0];\n    }\n    return url;\n}\n\n/*\n    fun: channelId generator\n    streamId: 用于标识流地址的ID\n    signalId: 用于标识信令地址的ID，在channelID加上这个可以防止不同信令服务器下的节点混在一起\n */\nexport function defaultChannelId(url, browserInfo = {}) {\n    const streamParsed = URLToolkit.parseURL(url);\n    const streamId = streamParsed.netLoc.substr(2) + streamParsed.path.split('.')[0];\n    return `${streamId}`;\n}\n\nexport function tsPathChecker() {\n    let lastSN = -1;\n    let lastPath = '';\n    return function (sn, path) {\n        path = path.split('?')[0];\n        let isOK = true;\n        if (lastSN !== sn && lastPath === path) {\n            isOK = false;\n        }\n        // if (lastSN !== sn && lastPath === path) {\n        //     console.warn(`path of ${sn} equal to path of ${lastSN}`);\n        // }\n        lastSN = sn;\n        lastPath = path;\n        return isOK;\n    }\n}\n\nexport function noop() {\n    return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/toolFuns.js","// see https://tools.ietf.org/html/rfc1808\r\n\r\n/* jshint ignore:start */\r\n(function(root) { \r\n/* jshint ignore:end */\r\n\r\n  var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/\\;?#]*)?(.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\r\n  var FIRST_SEGMENT_REGEX = /^([^\\/;?#]*)(.*)$/;\r\n  var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\r\n  var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\r\n\r\n  var URLToolkit = { // jshint ignore:line\r\n    // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\r\n    // E.g\r\n    // With opts.alwaysNormalize = false (default, spec compliant)\r\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\r\n    // With opts.alwaysNormalize = true (not spec compliant)\r\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\r\n    buildAbsoluteURL: function(baseURL, relativeURL, opts) {\r\n      opts = opts || {};\r\n      // remove any remaining space and CRLF\r\n      baseURL = baseURL.trim();\r\n      relativeURL = relativeURL.trim();\r\n      if (!relativeURL) {\r\n        // 2a) If the embedded URL is entirely empty, it inherits the\r\n        // entire base URL (i.e., is set equal to the base URL)\r\n        // and we are done.\r\n        if (!opts.alwaysNormalize) {\r\n          return baseURL;\r\n        }\r\n        var basePartsForNormalise = URLToolkit.parseURL(baseURL);\r\n        if (!basePartsForNormalise) {\r\n          throw new Error('Error trying to parse base URL.');\r\n        }\r\n        basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\r\n        return URLToolkit.buildURLFromParts(basePartsForNormalise);\r\n      }\r\n      var relativeParts = URLToolkit.parseURL(relativeURL);\r\n      if (!relativeParts) {\r\n        throw new Error('Error trying to parse relative URL.');\r\n      }\r\n      if (relativeParts.scheme) {\r\n        // 2b) If the embedded URL starts with a scheme name, it is\r\n        // interpreted as an absolute URL and we are done.\r\n        if (!opts.alwaysNormalize) {\r\n          return relativeURL;\r\n        }\r\n        relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\r\n        return URLToolkit.buildURLFromParts(relativeParts);\r\n      }\r\n      var baseParts = URLToolkit.parseURL(baseURL);\r\n      if (!baseParts) {\r\n        throw new Error('Error trying to parse base URL.');\r\n      }\r\n      if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\r\n        // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\r\n        // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\r\n        var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\r\n        baseParts.netLoc = pathParts[1];\r\n        baseParts.path = pathParts[2];\r\n      }\r\n      if (baseParts.netLoc && !baseParts.path) {\r\n        baseParts.path = '/';\r\n      }\r\n      var builtParts = {\r\n        // 2c) Otherwise, the embedded URL inherits the scheme of\r\n        // the base URL.\r\n        scheme: baseParts.scheme,\r\n        netLoc: relativeParts.netLoc,\r\n        path: null,\r\n        params: relativeParts.params,\r\n        query: relativeParts.query,\r\n        fragment: relativeParts.fragment\r\n      };\r\n      if (!relativeParts.netLoc) {\r\n        // 3) If the embedded URL's <net_loc> is non-empty, we skip to\r\n        // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\r\n        // (if any) of the base URL.\r\n        builtParts.netLoc = baseParts.netLoc;\r\n        // 4) If the embedded URL path is preceded by a slash \"/\", the\r\n        // path is not relative and we skip to Step 7.\r\n        if (relativeParts.path[0] !== '/') {\r\n          if (!relativeParts.path) {\r\n            // 5) If the embedded URL path is empty (and not preceded by a\r\n            // slash), then the embedded URL inherits the base URL path\r\n            builtParts.path = baseParts.path;\r\n            // 5a) if the embedded URL's <params> is non-empty, we skip to\r\n            // step 7; otherwise, it inherits the <params> of the base\r\n            // URL (if any) and\r\n            if (!relativeParts.params) {\r\n              builtParts.params = baseParts.params;\r\n              // 5b) if the embedded URL's <query> is non-empty, we skip to\r\n              // step 7; otherwise, it inherits the <query> of the base\r\n              // URL (if any) and we skip to step 7.\r\n              if (!relativeParts.query) {\r\n                builtParts.query = baseParts.query;\r\n              }\r\n            }\r\n          } else {\r\n            // 6) The last segment of the base URL's path (anything\r\n            // following the rightmost slash \"/\", or the entire path if no\r\n            // slash is present) is removed and the embedded URL's path is\r\n            // appended in its place.\r\n            var baseURLPath = baseParts.path;\r\n            var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\r\n            builtParts.path = URLToolkit.normalizePath(newPath);\r\n          }\r\n        }\r\n      }\r\n      if (builtParts.path === null) {\r\n        builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\r\n      }\r\n      return URLToolkit.buildURLFromParts(builtParts);\r\n    },\r\n    parseURL: function(url) {\r\n      var parts = URL_REGEX.exec(url);\r\n      if (!parts) {\r\n        return null;\r\n      }\r\n      return {\r\n        scheme: parts[1] || '',\r\n        netLoc: parts[2] || '',\r\n        path: parts[3] || '',\r\n        params: parts[4] || '',\r\n        query: parts[5] || '',\r\n        fragment: parts[6] || ''\r\n      };\r\n    },\r\n    normalizePath: function(path) {\r\n      // The following operations are\r\n      // then applied, in order, to the new path:\r\n      // 6a) All occurrences of \"./\", where \".\" is a complete path\r\n      // segment, are removed.\r\n      // 6b) If the path ends with \".\" as a complete path segment,\r\n      // that \".\" is removed.\r\n      path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, '');\r\n      // 6c) All occurrences of \"<segment>/../\", where <segment> is a\r\n      // complete path segment not equal to \"..\", are removed.\r\n      // Removal of these path segments is performed iteratively,\r\n      // removing the leftmost matching pattern on each iteration,\r\n      // until no matching pattern remains.\r\n      // 6d) If the path ends with \"<segment>/..\", where <segment> is a\r\n      // complete path segment not equal to \"..\", that\r\n      // \"<segment>/..\" is removed.\r\n      while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\r\n      return path.split('').reverse().join('');\r\n    },\r\n    buildURLFromParts: function(parts) {\r\n      return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\r\n    }\r\n  };\r\n\r\n/* jshint ignore:start */\r\n  if(typeof exports === 'object' && typeof module === 'object')\r\n    module.exports = URLToolkit;\r\n  else if(typeof define === 'function' && define.amd)\r\n    define([], function() { return URLToolkit; });\r\n  else if(typeof exports === 'object')\r\n    exports[\"URLToolkit\"] = URLToolkit;\r\n  else\r\n    root[\"URLToolkit\"] = URLToolkit;\r\n})(this);\r\n/* jshint ignore:end */\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_url-toolkit@2.1.4@url-toolkit/src/url-toolkit.js\n// module id = 3\n// module chunks = 0","\nimport Tracker from './bt-tracker';\nimport Loader from './bt-loader';\n\nlet config = {\n    announce: \"https://api.cdnbye.com/v1\",                           // tracker服务器地址\n    urgentOffset: 3,                                                 // 播放点的后多少个buffer为urgent\n\n};\n\nexport {\n    Tracker,\n    Loader as FragLoader,\n    config\n}\n\n\n// WEBPACK FOOTER //\n// ./src/bittorrent/index.js","\"use strict\";\n;\n;\n;\nvar isWebSocket = function (constructor) {\n    return constructor && constructor.CLOSING === 2;\n};\nvar isGlobalWebSocket = function () {\n    return typeof WebSocket !== 'undefined' && isWebSocket(WebSocket);\n};\nvar getDefaultOptions = function () { return ({\n    constructor: isGlobalWebSocket() ? WebSocket : null,\n    maxReconnectionDelay: 10000,\n    minReconnectionDelay: 1500,\n    reconnectionDelayGrowFactor: 1.3,\n    connectionTimeout: 4000,\n    maxRetries: Infinity,\n    debug: false,\n}); };\nvar bypassProperty = function (src, dst, name) {\n    Object.defineProperty(dst, name, {\n        get: function () { return src[name]; },\n        set: function (value) { src[name] = value; },\n        enumerable: true,\n        configurable: true,\n    });\n};\nvar initReconnectionDelay = function (config) {\n    return (config.minReconnectionDelay + Math.random() * config.minReconnectionDelay);\n};\nvar updateReconnectionDelay = function (config, previousDelay) {\n    var newDelay = previousDelay * config.reconnectionDelayGrowFactor;\n    return (newDelay > config.maxReconnectionDelay)\n        ? config.maxReconnectionDelay\n        : newDelay;\n};\nvar LEVEL_0_EVENTS = ['onopen', 'onclose', 'onmessage', 'onerror'];\nvar reassignEventListeners = function (ws, oldWs, listeners) {\n    Object.keys(listeners).forEach(function (type) {\n        listeners[type].forEach(function (_a) {\n            var listener = _a[0], options = _a[1];\n            ws.addEventListener(type, listener, options);\n        });\n    });\n    if (oldWs) {\n        LEVEL_0_EVENTS.forEach(function (name) {\n            ws[name] = oldWs[name];\n        });\n    }\n};\nvar ReconnectingWebsocket = function (url, protocols, options) {\n    var _this = this;\n    if (options === void 0) { options = {}; }\n    var ws;\n    var connectingTimeout;\n    var reconnectDelay = 0;\n    var retriesCount = 0;\n    var shouldRetry = true;\n    var savedOnClose = null;\n    var listeners = {};\n    // require new to construct\n    if (!(this instanceof ReconnectingWebsocket)) {\n        throw new TypeError(\"Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator\");\n    }\n    // Set config. Not using `Object.assign` because of IE11\n    var config = getDefaultOptions();\n    Object.keys(config)\n        .filter(function (key) { return options.hasOwnProperty(key); })\n        .forEach(function (key) { return config[key] = options[key]; });\n    if (!isWebSocket(config.constructor)) {\n        throw new TypeError('Invalid WebSocket constructor. Set `options.constructor`');\n    }\n    var log = config.debug ? function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        return console.log.apply(console, ['RWS:'].concat(params));\n    } : function () { };\n    /**\n     * Not using dispatchEvent, otherwise we must use a DOM Event object\n     * Deferred because we want to handle the close event before this\n     */\n    var emitError = function (code, msg) { return setTimeout(function () {\n        var err = new Error(msg);\n        err.code = code;\n        if (Array.isArray(listeners.error)) {\n            listeners.error.forEach(function (_a) {\n                var fn = _a[0];\n                return fn(err);\n            });\n        }\n        if (ws.onerror) {\n            ws.onerror(err);\n        }\n    }, 0); };\n    var handleClose = function () {\n        log('handleClose', { shouldRetry: shouldRetry });\n        retriesCount++;\n        log('retries count:', retriesCount);\n        if (retriesCount > config.maxRetries) {\n            emitError('EHOSTDOWN', 'Too many failed connection attempts');\n            return;\n        }\n        if (!reconnectDelay) {\n            reconnectDelay = initReconnectionDelay(config);\n        }\n        else {\n            reconnectDelay = updateReconnectionDelay(config, reconnectDelay);\n        }\n        log('handleClose - reconnectDelay:', reconnectDelay);\n        if (shouldRetry) {\n            setTimeout(connect, reconnectDelay);\n        }\n    };\n    var connect = function () {\n        if (!shouldRetry) {\n            return;\n        }\n        log('connect');\n        var oldWs = ws;\n        var wsUrl = (typeof url === 'function') ? url() : url;\n        ws = new config.constructor(wsUrl, protocols);\n        connectingTimeout = setTimeout(function () {\n            log('timeout');\n            ws.close();\n            emitError('ETIMEDOUT', 'Connection timeout');\n        }, config.connectionTimeout);\n        log('bypass properties');\n        for (var key in ws) {\n            // @todo move to constant\n            if (['addEventListener', 'removeEventListener', 'close', 'send'].indexOf(key) < 0) {\n                bypassProperty(ws, _this, key);\n            }\n        }\n        ws.addEventListener('open', function () {\n            clearTimeout(connectingTimeout);\n            log('open');\n            reconnectDelay = initReconnectionDelay(config);\n            log('reconnectDelay:', reconnectDelay);\n            retriesCount = 0;\n        });\n        ws.addEventListener('close', handleClose);\n        reassignEventListeners(ws, oldWs, listeners);\n        // because when closing with fastClose=true, it is saved and set to null to avoid double calls\n        ws.onclose = ws.onclose || savedOnClose;\n        savedOnClose = null;\n    };\n    log('init');\n    connect();\n    this.close = function (code, reason, _a) {\n        if (code === void 0) { code = 1000; }\n        if (reason === void 0) { reason = ''; }\n        var _b = _a === void 0 ? {} : _a, _c = _b.keepClosed, keepClosed = _c === void 0 ? false : _c, _d = _b.fastClose, fastClose = _d === void 0 ? true : _d, _e = _b.delay, delay = _e === void 0 ? 0 : _e;\n        log('close - params:', { reason: reason, keepClosed: keepClosed, fastClose: fastClose, delay: delay, retriesCount: retriesCount, maxRetries: config.maxRetries });\n        shouldRetry = !keepClosed && retriesCount <= config.maxRetries;\n        if (delay) {\n            reconnectDelay = delay;\n        }\n        ws.close(code, reason);\n        if (fastClose) {\n            var fakeCloseEvent_1 = {\n                code: code,\n                reason: reason,\n                wasClean: true,\n            };\n            // execute close listeners soon with a fake closeEvent\n            // and remove them from the WS instance so they\n            // don't get fired on the real close.\n            handleClose();\n            ws.removeEventListener('close', handleClose);\n            // run and remove level2\n            if (Array.isArray(listeners.close)) {\n                listeners.close.forEach(function (_a) {\n                    var listener = _a[0], options = _a[1];\n                    listener(fakeCloseEvent_1);\n                    ws.removeEventListener('close', listener, options);\n                });\n            }\n            // run and remove level0\n            if (ws.onclose) {\n                savedOnClose = ws.onclose;\n                ws.onclose(fakeCloseEvent_1);\n                ws.onclose = null;\n            }\n        }\n    };\n    this.send = function (data) {\n        ws.send(data);\n    };\n    this.addEventListener = function (type, listener, options) {\n        if (Array.isArray(listeners[type])) {\n            if (!listeners[type].some(function (_a) {\n                var l = _a[0];\n                return l === listener;\n            })) {\n                listeners[type].push([listener, options]);\n            }\n        }\n        else {\n            listeners[type] = [[listener, options]];\n        }\n        ws.addEventListener(type, listener, options);\n    };\n    this.removeEventListener = function (type, listener, options) {\n        if (Array.isArray(listeners[type])) {\n            listeners[type] = listeners[type].filter(function (_a) {\n                var l = _a[0];\n                return l !== listener;\n            });\n        }\n        ws.removeEventListener(type, listener, options);\n    };\n};\nmodule.exports = ReconnectingWebsocket;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_reconnecting-websocket@3.2.2@reconnecting-websocket/dist/index.js\n// module id = 5\n// module chunks = 0","import EventEmitter from 'events';\nimport URLToolkit from 'url-toolkit';\nimport defaultP2PConfig from './config';\nimport {Tracker, FragLoader} from './bittorrent';\nimport BufferManager from './buffer-manager';\nimport {Events, Fetcher, getBrowserRTC, DataChannel} from 'core';\nimport Logger from './utils/logger';\nimport platform from './utils/platform';\nimport { defaultChannelId, tsPathChecker, noop } from './utils/toolFuns';\n\nclass P2PEngine extends EventEmitter {\n\n    static get Events() {\n        return Events;\n    }\n\n    constructor(hlsjs, p2pConfig) {\n\n        super();\n\n        this.config = Object.assign({}, defaultP2PConfig, p2pConfig);\n\n        if (!this.config.channelId || typeof this.config.channelId !== 'function') {\n            this.config.channelId = defaultChannelId;\n        }\n\n        this.hlsjs = hlsjs;\n\n        this.p2pEnabled = this.config.p2pEnabled === false ? false : true;                                      //默认开启P2P\n\n        hlsjs.config.currLoaded = hlsjs.config.currPlay = 0;\n\n        this.HLSEvents = hlsjs.constructor.Events;\n\n        // 如果tsStrictMatched=false，需要自动检查不同ts路径是否相同\n        this.checkTSPath = this.config.tsStrictMatched ? noop : tsPathChecker();\n\n        const onLevelLoaded = (event, data) => {\n\n            const isLive = data.details.live;\n            this.config.live = isLive;\n            // 浏览器信息\n            this.browserInfo = {\n                device: platform.getPlatform(),\n                netType: platform.getNetType(),\n                version: P2PEngine.version,\n                tag: this.config.tag || this.hlsjs.constructor.version,\n                live: isLive,\n            };\n            const signalId = URLToolkit.parseURL(this.config.wsSignalerAddr).netLoc.substr(2);\n            this.channel = `${this.config.channelId(hlsjs.url, this.browserInfo)}|${signalId}[${DataChannel.VERSION}]`;\n            //初始化logger\n            let logger = new Logger(this.config, this.channel);\n            this.hlsjs.config.logger = this.logger = logger;\n            logger.info(`channel ${this.channel}`);\n            this._init(this.channel, this.browserInfo);\n\n            hlsjs.off(this.HLSEvents.LEVEL_LOADED, onLevelLoaded);\n        };\n\n        hlsjs.on(this.HLSEvents.LEVEL_LOADED, onLevelLoaded);\n\n\n        // console.log(`CDNBye v${P2PEngine.version} -- A Free and Infinitely Scalable Video P2P Engine. (https://github.com/cdnbye/hlsjs-p2p-engine)`);\n\n    }\n\n    _init(channel, browserInfo) {\n        const { logger } = this;\n        if (!this.p2pEnabled) return;\n\n        this.hlsjs.config.p2pEnabled = this.p2pEnabled;\n        //实例化BufferManager\n        this.bufMgr = new BufferManager(this, this.config);\n        this.hlsjs.config.bufMgr = this.bufMgr;\n\n\n        //实例化Fetcher\n        let fetcher = new Fetcher(this, 'free', window.encodeURIComponent(channel), this.config.announce, browserInfo);\n        this.fetcher = fetcher;\n        //实例化tracker服务器\n        this.tracker = new Tracker(this, fetcher, this.config);\n        this.tracker.scheduler.bufferManager = this.bufMgr;\n        //替换fLoader\n        this.hlsjs.config.fLoader = FragLoader;\n        //向fLoader导入scheduler\n        this.hlsjs.config.scheduler = this.tracker.scheduler;\n        //在fLoader中使用fetcher\n        this.hlsjs.config.fetcher = fetcher;\n\n\n        this.hlsjs.on(this.HLSEvents.FRAG_LOADING, (id, data) => {\n            // log('FRAG_LOADING: ' + JSON.stringify(data.frag));\n            logger.debug('loading frag ' + data.frag.sn);\n            this.tracker.currentLoadingSN = data.frag.sn;\n\n        });\n\n        this.trackerTried = false;                                                   //防止重复连接ws\n        this.hlsjs.on(this.HLSEvents.FRAG_LOADED, (id, data) => {\n            let sn = data.frag.sn;\n            this.hlsjs.config.currLoaded = sn;\n            this.tracker.currentLoadedSN = sn;                                //用于BT算法\n            this.hlsjs.config.currLoadedDuration = data.frag.duration;\n            let bitrate = Math.round(data.frag.loaded*8/data.frag.duration);\n            if (!this.trackerTried && !this.tracker.connected && this.config.p2pEnabled) {\n\n                this.tracker.scheduler.bitrate = bitrate;\n                logger.info(`bitrate ${bitrate}`);\n\n                this.tracker.resumeP2P();\n                this.trackerTried = true;\n            }\n            // this.streamingRate = (this.streamingRate*this.fragLoadedCounter + bitrate)/(++this.fragLoadedCounter);\n            // this.tracker.scheduler.streamingRate = Math.floor(this.streamingRate);\n            if (!data.frag.loadByHTTP) {\n                data.frag.loadByP2P = false;\n                data.frag.loadByHTTP = true;\n            }\n            // console.warn(`data.frag.url ${data.frag.url}`);\n            if (!this.checkTSPath(sn, data.frag.url)) {\n                logger.warn(`ts path of ${sn} equal to the previous, set tsStrictMatched to true`);\n                this.config.tsStrictMatched = true;\n                this.checkTSPath = noop;\n            }\n        });\n\n        this.hlsjs.on(this.HLSEvents.FRAG_CHANGED, (id, data) => {\n            // log('FRAG_CHANGED: '+JSON.stringify(data.frag, null, 2));\n            logger.debug('frag changed: '+data.frag.sn);\n            const sn = data.frag.sn;\n            this.hlsjs.config.currPlay = sn;\n            this.tracker.currentPlaySN = sn;\n        });\n\n        this.hlsjs.on(this.HLSEvents.ERROR, (event, data) => {\n            logger.error(`errorType ${data.type} details ${data.details} errorFatal ${data.fatal}`);\n            const errDetails = this.hlsjs.constructor.ErrorDetails;\n            switch (data.details) {\n                case errDetails.FRAG_LOAD_ERROR:\n                case errDetails.FRAG_LOAD_TIMEOUT:\n                    this.fetcher.errsFragLoad ++;\n                    break;\n                case errDetails.BUFFER_STALLED_ERROR:\n                    this.fetcher.errsBufStalled ++;\n                    break;\n                case errDetails.INTERNAL_EXCEPTION:\n                    this.fetcher.errsInternalExpt ++;\n                    break;\n                default:\n            }\n        });\n\n        this.hlsjs.on(this.HLSEvents.DESTROYING, () => {\n            logger.warn('destroying hlsjs');\n            this.destroy();\n        });\n    }\n\n    disableP2P() {                                              //停止p2p\n        const { logger } = this;\n        logger.warn(`disable P2P`);\n        if (this.p2pEnabled) {\n            this.p2pEnabled = false;\n            this.config.p2pEnabled = this.hlsjs.config.p2pEnabled = this.p2pEnabled;\n            if (this.tracker) {\n                this.tracker.stopP2P();\n            }\n            this.bufMgr.destroy();\n            this.bufMgr = null;\n            this.hlsjs.config.fLoader = this.hlsjs.constructor.DefaultConfig.loader;\n        }\n    }\n\n    enableP2P() {                                               //在停止的情况下重新启动P2P\n        const { logger } = this;\n        logger.warn(this.p2pEnabled);\n        if (!this.p2pEnabled) {\n            logger.warn(`enable P2P`);\n            this.p2pEnabled = true;\n            this.config.p2pEnabled = this.hlsjs.config.p2pEnabled = this.p2pEnabled;\n            this._init(this.channel, this.browserInfo);\n        }\n    }\n\n    destroy() {\n        this.disableP2P();\n        this.removeAllListeners();\n    }\n\n    get version() {\n        return P2PEngine.version;\n    }\n\n}\n\nP2PEngine.WEBRTC_SUPPORT = !!getBrowserRTC();\n\nP2PEngine.version = __VERSION__;\n\nexport default P2PEngine\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.engine.js","\nimport { config as btConfig } from './bittorrent';\n\n//时间单位统一为秒\nlet defaultP2PConfig = {\n    wsSignalerAddr: 'wss://signal.cdnbye.com/wss',          // 信令服务器地址\n    wsMaxRetries: 3,                            // websocket连接重试次数\n    wsReconnectInterval: 5,                     // websocket重连时间间隔\n\n    p2pEnabled: true,                           // 是否开启P2P，默认true\n\n    dcRequestTimeout: 3,                        // datachannel接收二进制数据的超时时间\n    dcUploadTimeout: 3,                         // datachannel上传二进制数据的超时时间\n    dcPings: 5,                                 // datachannel发送ping数据包的数量\n    dcTolerance: 4,                             // 请求超时或错误多少次淘汰该peer\n\n    packetSize: 64*1024,                        // 每次通过datachannel发送的包的大小\n    maxBufSize: 1024*1024*50,                   // p2p缓存的最大数据量\n    loadTimeout: 3,                             // p2p下载的超时时间\n    tsStrictMatched: false,                     // p2p传输的ts是否要严格匹配（去掉查询参数），默认false\n\n    enableLogUpload: false,                      // 上传log到服务器，默认false\n    logUploadAddr: \"wss://api.cdnbye.com/trace\", // log上传地址\n    logUploadLevel: 'warn',                      // log上传level，分为debug、info、warn、error、none，默认warn\n    logLevel: 'none',                            // log的level，分为debug、info、warn、error、none，设为true等于debug，设为false等于none，默认none\n\n    tag: '',                                     // 用户自定义标签，可用于在后台查看参数调整效果\n\n    channelId: null,                             // 标识channel的字段，默认是'[path]-[protocol version]'\n\n    webRTCConfig: {},                            // 传入channelConfig用于createDataChannel，config用于RTCPeerConnection\n\n    ...btConfig\n};\n\nexport default defaultP2PConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","\nimport EventEmitter from 'events';\nimport BTScheduler from './bt-scheduler';\nimport SignalClient from '../signal-client';\nimport {DataChannel, Events, getPeersThrottle} from 'core';\nimport {throttle} from '../utils/toolFuns';\n\nclass BTTracker extends EventEmitter {\n    constructor(engine, fetcher, config) {\n        super();\n\n        this.engine = engine;\n        this.config = config;\n        this.connected = false;                                // 与信令的连接状态\n        this.scheduler = new BTScheduler(engine, config);\n        this.DCMap = new Map();                                  //{key: remotePeerId, value: DataChannnel} 目前已经建立连接或正在建立连接的dc\n        this.failedDCSet= new Set();                            //{remotePeerId} 建立连接失败的dc\n        this.signalerWs = null;                                  //信令服务器ws\n        //tracker request API\n        this.fetcher = fetcher;\n        /*\n        peers: Array<Object{id:string}>\n         */\n        this.peers = [];\n\n        // 防止调用频率过高\n        this.requestMorePeers = getPeersThrottle(this._requestMorePeers, this);\n\n        // this._setupScheduler(this.scheduler);\n    }\n\n    set currentPlaySN(sn) {\n        // console.warn(`currentPlaySN ${sn} ${performance.now()}`);\n        if (!this.config.p2pEnabled) return;\n        this.scheduler.updatePlaySN(sn);\n    }\n\n    set currentLoadingSN(sn) {\n        // console.warn(`currentLoadingSN ${sn} ${performance.now()}`);\n        if (!this.config.p2pEnabled) return;\n        this.scheduler.updateLoadingSN(sn);\n    }\n\n    set currentLoadedSN(sn) {\n        // console.warn(`currentLoadedSN ${sn} ${performance.now()}`);\n        if (!this.config.p2pEnabled) return;\n        this.scheduler.updateLoadedSN(sn);                        //更新bitmap\n    }\n\n    resumeP2P() {\n        const { logger } = this.engine;\n        this.fetcher.btAnnounce().then(json => {\n            logger.info(`announce request response ${JSON.stringify(json)}`)\n            this.engine.peerId = this.peerId = json.id;\n            logger.identifier = this.peerId;\n            this.signalerWs = this._initSignalerWs();                         //连上tracker后开始连接信令服务器\n            this._handlePeers(json.peers);\n            this.engine.emit('peerId', this.peerId);\n        }).catch(err => {\n            console.warn(err);\n        })\n    }\n\n    stopP2P() {\n        const { logger } = this.engine;\n        this.fetcher.destroy();\n        this.fetcher = null;\n        this.requestMorePeers(true);          // 清空里面的定时器\n        this.scheduler.destroy();\n        this.scheduler = null;\n        this.signalerWs.close();\n        this.peers = [];\n        this.DCMap.clear();\n        this.failedDCSet.clear();\n        logger.warn(`tracker stop p2p`);\n    }\n\n    destroy() {\n        const { logger } = this.engine;\n        this.stopP2P();\n        this.removeAllListeners();\n        logger.warn(`destroy tracker`);\n    }\n\n    _handlePeers(peers) {\n        for(let peer of peers) {\n            this.peers.push({\n                id: peer.id,\n            })\n        }\n        //过滤掉已经连接的节点和连接失败的节点\n        this.peers = this.peers.filter(node => {\n            for (let peerId of [...this.DCMap.keys(),...this.failedDCSet.keys()]) {\n                if (node.id === peerId) {\n                    return false;\n                }\n            }\n            return true;\n        });\n    }\n\n    _tryConnectToAllPeers() {\n        const { logger } = this.engine;\n        if (this.peers.length === 0) return;\n        logger.info(`try connect to ${this.peers.length} peers`);\n        this.peers.forEach(peer => {\n            let datachannel = new DataChannel(this.engine, this.peerId, peer.id, true, this.config);\n            this.DCMap.set(peer.id, datachannel);     // 将对等端Id作为键\n            this._setupDC(datachannel);\n        });\n        // 清空peers\n        this.peers = [];\n    }\n\n    _setupDC(datachannel) {\n        const { logger } = this.engine;\n        datachannel.on(Events.DC_SIGNAL, data => {\n            const remotePeerId = datachannel.remotePeerId;\n            this.signalerWs.sendSignal(remotePeerId, data);\n        })\n            .once(Events.DC_ERROR, () => {\n                logger.warn(`datachannel connect ${datachannel.channelId} failed`);\n                this.scheduler.deletePeer(datachannel);\n                this.DCMap.delete(datachannel.remotePeerId);\n                this.failedDCSet.add(datachannel.remotePeerId);                  //记录失败的连接\n                datachannel.destroy();\n\n                this.requestMorePeers();\n\n                //更新conns\n                if (datachannel.isInitiator) {\n                    if (datachannel.connected) {                       //连接断开\n                        this.fetcher.decreConns();\n                    } else {                                           //连接失败\n                        this.fetcher.increFailConns();\n                    }\n                }\n            })\n            .once(Events.DC_CLOSE, () => {\n\n                logger.warn(`datachannel ${datachannel.channelId} closed`);\n                this.scheduler.deletePeer(datachannel);\n                this.DCMap.delete(datachannel.remotePeerId);\n                this.failedDCSet.add(datachannel.remotePeerId);              //记录断开的连接\n\n                datachannel.destroy();\n\n                this.requestMorePeers();\n\n                //更新conns\n                this.fetcher.decreConns();\n\n\n            })\n            .once(Events.DC_OPEN, () => {\n\n                this.scheduler.handshakePeer(datachannel);\n\n                //如果dc数量不够则继续尝试连接\n                const cancel = this.scheduler.peersNum <= 3 ? false : true;\n                this.requestMorePeers(cancel);\n\n                //更新conns\n                this.fetcher.increConns();\n\n            })\n    }\n\n    _initSignalerWs() {\n        const { logger } = this.engine;\n        let websocket = new SignalClient(this.engine, this.peerId, this.config);\n        websocket.onopen = () => {\n            this.connected = true;\n            // 尝试与所有peers同时建立连接\n            this._tryConnectToAllPeers();\n        };\n\n        websocket.onmessage = (e) => {\n            let msg = JSON.parse(e.data);\n            let action = msg.action;\n            switch (action) {\n                case 'signal':\n                    if (this.failedDCSet.has(msg.from_peer_id)) return;\n                    logger.debug(`handle signal of ${msg.from_peer_id}`);\n                    if (!msg.data) {                                             //如果对等端已不在线\n                        this.DCMap.delete(msg.from_peer_id);\n                        this.failedDCSet.add(msg.from_peer_id);              //记录失败的连接\n                        logger.info(`signaling ${msg.from_peer_id} not found`);\n                    } else {\n                        this._handleSignal(msg.from_peer_id, msg.data);\n                    }\n                    break;\n                case 'reject':\n                    this.stopP2P();\n                    break;\n                default:\n                    logger.warn('Signaler websocket unknown action ' + action);\n\n            }\n\n        };\n        websocket.onclose = () => {                                            //websocket断开时清除datachannel\n            this.connected = false;\n        };\n        return websocket;\n    }\n\n    _handleSignal(remotePeerId, data) {\n        const { logger } = this.engine;\n        let datachannel = this.DCMap.get(remotePeerId);\n        if (datachannel && datachannel.connected) {\n            logger.info(`datachannel had connected, signal ignored`);\n            return\n        }\n        if (!datachannel) {                                               //收到子节点连接请求\n            logger.debug(`receive node ${remotePeerId} connection request`);\n            if (this.failedDCSet.has(remotePeerId)) return;\n            datachannel = new DataChannel(this.engine, this.peerId, remotePeerId, false, this.config);\n            this.DCMap.set(remotePeerId, datachannel);                                  //将对等端Id作为键\n            this._setupDC(datachannel);\n        }\n        datachannel.receiveSignal(data);\n    }\n\n    // _setupScheduler(s) {\n    //\n    // }\n\n    _requestMorePeers() {\n        const { logger } = this.engine;\n        // 连接的节点<=3时请求更多节点\n        if (this.scheduler.peersNum <= 3) {\n            this.fetcher.btGetPeers().then(json => {\n                logger.info(`request more peers ${JSON.stringify(json)}`);\n                this._handlePeers(json.peers);\n                this._tryConnectToAllPeers();\n            })\n        }\n    }\n\n\n}\n\nexport default BTTracker;\n\n\n// WEBPACK FOOTER //\n// ./src/bittorrent/bt-tracker.js","import EventEmitter from 'events';\nimport {Events} from 'core';\nimport {handleTSUrl} from '../utils/toolFuns';\n\nclass BTScheduler extends EventEmitter {\n    constructor(engine, config) {\n        super();\n\n        this.engine = engine;\n        this.config = config;\n        this.bufMgr = null;\n        this.peerMap = new Map();                 // remotePeerId -> dc\n        this.bitset = new Set();                  // 本节点的bitfield\n        this.bitCounts = new Map();               // 记录peers的每个buffer的总和，用于BT的rearest first策略  index -> count\n\n        this.targetPeer = null;               // 当前的目标peer\n\n        // 传输控制(单位ms)\n\n    }\n\n    updateLoadedSN(sn) {\n        this.bitset.add(sn);                      //在bitset中记录\n        if (this.bitCounts.has(sn)) {\n            this.bitCounts.delete(sn)             //在bitCounts清除，防止重复下载\n        }\n        const msg = {\n            event: Events.DC_HAVE,\n            sn: sn\n        };\n        this._broadcastToPeers(msg);\n    }\n\n    updateLoadingSN(sn) {                                                           //防止下载hls.js正在下载的sn\n        this.loadingSN = sn;\n    }\n\n    updatePlaySN(sn) {\n        const { logger } = this.engine;\n        if (this.config.live) return;                                                 //rearest first只用于vod\n        if (!this.hasPeers) return;\n        let requested = [];\n        for (let idx=sn+1;idx<=sn+this.config.urgentOffset+1;idx++) {\n            if (!this.bitset.has(idx) && idx !== this.loadingSN && this.bitCounts.has(idx)) {                  //如果这个块没有缓存并且peers有\n                for (let peer of this.peerMap.values()) {                           //找到拥有这个块并且空闲的peer\n                    if (peer.isAvailable && peer.bitset.has(idx)) {\n                        peer.requestDataBySN(idx, true);\n                        logger.debug(`request urgent ${idx} from peer ${peer.remotePeerId}`);\n                        requested.push(idx);\n                        break;\n                    }\n                }\n            }\n        }\n\n        //检查是否有空闲的节点，有的话采用rearest first策略下载(由于上行带宽有限，暂停这个策略)\n        // let idlePeers = this._getIdlePeer();\n        // if (idlePeers.length === 0 || this.bitCounts.size === 0 || this.bufMgr.overflowed) return;        //缓存溢出则停止rearest first\n        // let sortedArr = [...this.bitCounts.entries()].sort((item1, item2) => {\n        //     return item1[1] < item2[1];\n        // });\n        // if (sortedArr.length === 0) return;\n        // //每次只下载一个rearest块\n        // let rearest = sortedArr.pop()[0];\n        // while (rearest === this.loadingSN || requested.includes(rearest)) {         //排除掉loading的和requested的\n        //     if (sortedArr.length === 0) return;\n        //     rearest = sortedArr.pop()[0];\n        // }\n        // for (let peer of idlePeers) {\n        //     if (peer.bitset.has(rearest)) {\n        //         peer.requestDataBySN(rearest, false);\n        //         logger.debug(`request rearest ${rearest} from peer ${peer.remotePeerId}`);\n        //         break;\n        //     }\n        // }\n\n    }\n\n    // 阻止其它peer的请求\n    chokePeerRequest(dc) {\n        const msg = {\n            event: Events.DC_CHOKE\n        };\n        if (dc) {\n            dc.sendJson(msg)\n        } else {\n            this._broadcastToPeers(msg);\n        }\n    }\n\n    // 允许其它peer的请求\n    unchokePeerRequest(dc) {\n        const msg = {\n            event: Events.DC_UNCHOKE\n        };\n        if (dc) {\n            dc.sendJson(msg)\n        } else {\n            this._broadcastToPeers(msg);\n        }\n    }\n\n    // 暂停从其它peer请求数据\n    stopRequestFromPeers() {\n        for (let peer of this.peerMap.values()) {\n            peer.choked = true;\n        }\n    }\n\n    // 恢复从其它peer请求数据\n    resumeRequestFromPeers() {\n        for (let peer of this.peerMap.values()) {\n            peer.choked = false;\n        }\n    }\n\n    deletePeer(dc) {\n        if (this.peerMap.has(dc.remotePeerId)) {\n            dc.bitset.forEach( value => {\n                this._decreBitCounts(value);\n            });\n            this.peerMap.delete(dc.remotePeerId);\n        }\n        this.engine.emit('peers', [...this.peerMap.keys()]);\n    }\n\n    handshakePeer(dc) {\n        this._setupDC(dc);\n        dc.sendBitField(Array.from(this.bitset))            //向peer发送bitfield\n    }\n\n    addPeer(peer) {\n        const { logger } = this.engine;\n        logger.info(`add peer ${peer.remotePeerId}`);\n        this.peerMap.set(peer.remotePeerId, peer);\n\n        this.engine.emit('peers', [...this.peerMap.keys()]);\n    }\n\n    peersHasSN(sn) {\n        return this.bitCounts.has(sn);\n    }\n\n    hasAndSetTargetPeer(sn) {\n        const { logger } = this.engine;\n        if (!(this.hasIdlePeers && this.peersHasSN(sn))) return false;\n        for (let peer of this.peerMap.values()) {\n            if (peer.isAvailable && peer.bitset.has(sn)) {\n                logger.info(`found sn ${sn} from peer ${peer.remotePeerId}`);\n                this.targetPeer = peer;\n                return true;\n            }\n        }\n        logger.warn(`idle peers hasn't sn ${sn}`);\n        return false;\n    }\n\n    load(context, config, callbacks) {\n        const { logger } = this.engine;\n        this.context = context;\n        const frag = context.frag;\n        const handledUrl = handleTSUrl(frag.relurl, this.config.tsStrictMatched);\n        this.callbacks = callbacks;\n        this.stats = {trequest: performance.now(), retry: 0, tfirst: 0, tload: 0, loaded: 0};\n        this.criticalSeg = {sn: frag.sn, relurl: handledUrl};\n        this.targetPeer.requestDataByURL(handledUrl, true);\n        logger.info(`request criticalSeg url ${frag.relurl} at ${frag.sn}`);\n        this.criticaltimeouter = window.setTimeout(this._criticaltimeout.bind(this), this.config.loadTimeout*1000);\n    }\n\n    get hasPeers() {\n        return this.peersNum > 0;\n    }\n\n    get peersNum() {\n        return this.peerMap.size;\n    }\n\n    get hasIdlePeers() {\n        const { logger } = this.engine;\n        const idles = this._getIdlePeer().length;\n        logger.info(`peers: ${this.peersNum} idle peers: ${idles}`);\n        return idles > 0;\n    }\n\n    set bufferManager(bm) {\n        this.bufMgr = bm;\n\n        bm.on(Events.BM_LOST, sn => {\n            this._broadcastToPeers({                                //向peers广播已经不缓存的sn\n                event: Events.DC_LOST,\n                sn: sn\n            });\n            this.bitset.delete(sn);\n        })\n    }\n\n    destroy() {\n        const { logger } = this.engine;\n        if (this.peersNum > 0) {\n            for (let peer of this.peerMap.values()) {\n                peer.destroy();\n                peer = null;\n            }\n            this.peerMap.clear();\n        }\n        this.removeAllListeners();\n        logger.warn(`destroy scheduler`);\n    }\n\n    _setupDC(dc) {\n        const { logger } = this.engine;\n        dc.on(Events.DC_BITFIELD, msg => {\n            if (!msg.field) return;\n            let bitset = new Set(msg.field);\n            dc.bitset = bitset;\n            msg.field.forEach( value => {\n                if (!this.bitset.has(value)) {              //防止重复下载\n                    this._increBitCounts(value);\n                }\n            });\n            this.addPeer(dc);                               //只有获取bitfield之后才加入peerMap\n        })\n            .on(Events.DC_HAVE, msg => {\n                if (!msg.sn || !dc.bitset) return;\n                const sn = msg.sn;\n                dc.bitset.add(sn);\n                if (!this.bitset.has(sn)) {              //防止重复下载\n                    this._increBitCounts(sn);\n                }\n            })\n            .on(Events.DC_LOST, msg => {\n                if (!msg.sn || !dc.bitset) return;\n                const sn = msg.sn;\n                dc.bitset.delete(sn);\n                this._decreBitCounts(sn);\n            })\n            .on(Events.DC_PIECE_ACK, msg => {\n                if (msg.size) {\n                    this.engine.fetcher.reportUploaded(msg.size);\n                }\n            })\n            .on(Events.DC_PIECE, msg => {                                                  //接收到piece事件，即二进制包头\n                if (this.criticalSeg && this.criticalSeg.relurl === msg.url) {                    //接收到critical的响应\n                    this.stats.tfirst = Math.max(performance.now(), this.stats.trequest);\n                }\n            })\n            .on(Events.DC_PIECE_NOT_FOUND, msg => {\n                if (this.criticalSeg && this.criticalSeg.relurl === msg.url) {                    //接收到critical未找到的响应\n                    window.clearTimeout(this.criticaltimeouter);                             //清除定时器\n                    // this.criticaltimeouter = null;\n                    logger.info(`DC_PIECE_NOT_FOUND`);\n                    this._criticaltimeout();                                                   //触发超时，由xhr下载\n                }\n            })\n            .on(Events.DC_RESPONSE, response => {                                            //接收到完整二进制数据\n                if (this.criticalSeg && this.criticalSeg.relurl === response.url && this.criticaltimeouter) {\n                    logger.info(`receive criticalSeg url ${response.url}`);\n                    window.clearTimeout(this.criticaltimeouter);                             //清除定时器\n                    this.criticaltimeouter = null;\n                    let stats = this.stats;\n                    stats.tload = Math.max(stats.tfirst, performance.now());\n                    stats.loaded = stats.total = response.data.byteLength;\n                    this.criticalSeg = null;\n                    this.context.frag.fromPeerId = dc.remotePeerId;\n                    this.callbacks.onSuccess(response, stats, this.context);\n                } else {\n                    this.bufMgr.addBuffer(response.sn, response.url, response.data, dc.remotePeerId);\n                }\n                this.updateLoadedSN(response.sn);\n            })\n            .on(Events.DC_REQUEST, msg => {\n                let url = '';\n                if (!msg.url) {                                    //请求sn的request\n                    url = this.bufMgr.getURLbySN(msg.sn);\n                } else {                                           //请求url的request\n                    url = msg.url;\n                }\n                if (url && this.bufMgr.hasSegOfURL(url)) {\n                    let seg = this.bufMgr.getSegByURL(url);\n                    dc.sendBuffer(msg.sn, seg.relurl, seg.data);\n                } else {\n                    dc.sendJson({\n                        event: Events.DC_PIECE_NOT_FOUND,\n                        url: url,\n                        sn: msg.sn\n                    })\n                }\n            })\n            .on(Events.DC_TIMEOUT, () => {\n                logger.warn(`DC_TIMEOUT`);\n                if (this.criticaltimeouter) {\n                    window.clearTimeout(this.criticaltimeouter);                             //清除定时器\n                    this._criticaltimeout();\n                }\n            })\n    }\n\n    _broadcastToPeers(msg) {\n        if (this.peersNum > 0) {\n            for (let peer of this.peerMap.values()) {\n                peer.sendJson(msg);\n            }\n        }\n    }\n\n    _getIdlePeer() {\n        return [...this.peerMap.values()].filter(peer => {\n            return peer.isAvailable;\n        });\n    }\n\n    _decreBitCounts(index) {\n        if (this.bitCounts.has(index)) {\n            let last = this.bitCounts.get(index);\n            // this.bitCounts.set(index, last-1);\n            // if (this.bitCounts.get(index) === 0) {\n            //     this.bitCounts.delete(index);\n            // }\n            if (last === 1) {\n                this.bitCounts.delete(index);\n            } else {\n                this.bitCounts.set(index, last-1);\n            }\n        }\n    }\n\n    _increBitCounts(index) {\n        if (!this.bitCounts.has(index)) {\n            this.bitCounts.set(index, 1);\n        } else {\n            let last = this.bitCounts.get(index);\n            this.bitCounts.set(index, last+1);\n        }\n    }\n\n    _criticaltimeout() {\n        const { logger } = this.engine;\n        logger.warn(`critical request timeout`);\n        this.criticalSeg = null;\n        this.criticaltimeouter = null;\n        this.callbacks.onTimeout(this.stats, this.context, null);\n    }\n}\n\n\nexport default BTScheduler;\n\n\n// WEBPACK FOOTER //\n// ./src/bittorrent/bt-scheduler.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 10\n// module chunks = 0","\nimport EventEmitter from 'events';\nimport ReconnectingWebSocket from 'reconnecting-websocket';\n\n\nclass SignalClient extends EventEmitter{\n    constructor(engine, peerId, config) {\n        super();\n        this.engine = engine;\n        this.peerId = peerId;\n        this.config = config;\n        this.connected = false;\n        this.msgQueue = [];\n        this._ws = this._init(peerId);\n    }\n\n    _init(id) {\n        const { logger } = this.engine;\n        const wsOptions = {\n            maxRetries: this.config.wsMaxRetries,\n            minReconnectionDelay: this.config.wsReconnectInterval*1000\n        };\n        let queryStr = `?id=${id}`;\n        let ws = new ReconnectingWebSocket(this.config.wsSignalerAddr+queryStr, undefined, wsOptions);\n        ws.onopen = () => {\n            logger.info('Signaler websocket connection opened');\n\n            this.connected = true;\n\n            // 发送所有没有成功发送的消息\n            if (this.msgQueue.length > 0) {\n                logger.warn(`resend all cached msg`);\n                this.msgQueue.forEach(msg => {\n                    this._ws.send(msg);\n                });\n                this.msgQueue = [];\n            }\n\n            if (this.onopen) this.onopen();\n        };\n\n        ws.push = ws.send;\n        ws.send = msg => {\n            let msgStr = JSON.stringify(Object.assign({peer_id: id}, msg));\n            ws.push(msgStr);\n        };\n        ws.onmessage = (e) => {\n\n            if (this.onmessage) this.onmessage(e)\n        };\n        ws.onclose = () => {                                            //websocket断开时清除datachannel\n            logger.warn(`Signaler websocket closed`);\n            if (this.onclose) this.onclose();\n            this.connected = false;\n        };\n        return ws;\n    }\n\n    sendSignal(remotePeerId, data) {\n        let msg = {\n            action: 'signal',\n            peer_id: this.peerId,\n            to_peer_id: remotePeerId,\n            data: data\n        };\n        this._send(msg);\n    }\n\n    _send(msg) {\n        const { logger } = this.engine;\n        if (this.connected) {\n            this._ws.send(msg);\n        } else {\n            logger.warn(`signaler closed, msg is cached`);\n            this.msgQueue.push(msg);\n        }\n\n    }\n\n    close() {\n        const { logger } = this.engine;\n        logger.warn(`close signal client`);\n        this.connected = false;\n        this._ws.close();\n        this._ws = null;\n    }\n}\n\nexport default SignalClient;\n\n\n// WEBPACK FOOTER //\n// ./src/signal-client.js","import EventEmitter from 'events';\nimport URLToolkit from 'url-toolkit';\n\nclass FragLoader extends EventEmitter {\n    constructor(config) {\n        super();\n\n        this.logger = config.logger;\n        //denoted by sn\n        this.currLoaded = config.currLoaded;\n        this.currLoadedDuration = config.currLoadedDuration;              //最新下载的块的时长\n        this.currPlay = config.currPlay;\n\n        this.bufMgr = config.bufMgr;\n        this.xhrLoader = new config.loader(config);\n        this.p2pEnabled = config.p2pEnabled;\n        this.scheduler = config.scheduler;\n        this.fetcher = config.fetcher;\n    }\n\n    destroy() {\n        this.abort();\n    }\n\n    abort() {\n        this.xhrLoader.abort();\n    }\n\n    /*\n     首先从缓存中寻找请求的seg，如果缓存中找不到则用http请求。\n     */\n    load(context, config, callbacks) {\n        const { logger } = this;\n        const frag = context.frag;\n        // console.warn(`frag.duration: ${frag.duration}`);\n        // 获取ts的正确相对路径 obtain the correct path. Issue: https://github.com/cdnbye/hlsjs-p2p-engine/issues/9\n        const urlObj = URLToolkit.parseURL(frag.url);\n        frag.relurl = urlObj.path + urlObj.query;\n        frag.loadByP2P = false;                //初始化flag\n        frag.loadByHTTP = false;\n        if (this.p2pEnabled && this.bufMgr.hasSegOfURL(frag.relurl)) {                                     //如果命中缓存\n            logger.debug(`bufMgr found seg sn ${frag.sn} url ${frag.relurl}`);\n            let seg = this.bufMgr.getSegByURL(frag.relurl);\n            let response = { url : context.url, data : seg.data }, trequest, tfirst, tload, loaded, total;\n            trequest = performance.now();\n            tfirst = tload = trequest + 50;\n            loaded = total = frag.loaded = seg.size;\n            let stats={ trequest, tfirst, tload, loaded, total, retry: 0 };\n            frag.loadByP2P = true;\n            context.frag.fromPeerId = seg.fromPeerId;\n            logger.debug(`bufMgr loaded ${frag.relurl} at ${frag.sn}`)\n            window.setTimeout(() => {                                                   //必须是异步回调\n                this.fetcher.reportFlow(stats, true);\n                callbacks.onSuccess(response, stats, context);\n            }, 50)\n        // } else if (this.scheduler.hasIdlePeers && this.scheduler.peersHasSN(frag.sn)) {                             //如果在peers的bitmap中找到\n        } else if (this.p2pEnabled && this.scheduler.hasAndSetTargetPeer(frag.sn)) {                             //如果在peers的bitmap中找到\n            context.frag.loadByP2P = true;\n            this.scheduler.load(context, config, callbacks);\n            callbacks.onTimeout = (stats, context) => {                             //如果P2P下载超时则立即切换到xhr下载\n                logger.debug(`P2P timeout switched to HTTP load ${frag.relurl} at ${frag.sn}`);\n                frag.loadByP2P = false;\n                frag.loadByHTTP = true;\n                this.xhrLoader.load(context, config, callbacks);\n            };\n            const onSuccess = callbacks.onSuccess;\n            callbacks.onSuccess = (response, stats, context) => {                       //在onsucess回调中复制并缓存二进制数据\n                if (!this.bufMgr.hasSegOfURL(frag.relurl)) {\n                    this.bufMgr.copyAndAddBuffer(response.data, frag.relurl, frag.sn, frag.fromPeerId || this.fetcher.peerId);\n                }\n                this.fetcher.reportFlow(stats, frag.loadByP2P);\n                frag.loaded = stats.loaded;\n                logger.debug(`${frag.loadByP2P ? 'P2P' : 'HTTP'} loaded ${frag.relurl} at ${frag.sn}`);\n                onSuccess(response,stats,context);\n            };\n        } else {\n            logger.debug(`HTTP load ${frag.relurl} at ${frag.sn}`);\n            context.frag.loadByHTTP = true;\n            this.xhrLoader.load(context, config, callbacks);\n            const onSuccess = callbacks.onSuccess;\n            callbacks.onSuccess = (response, stats, context) => {                       //在onsucess回调中复制并缓存二进制数据\n                if (!this.bufMgr.hasSegOfURL(frag.relurl)) {\n                    this.bufMgr.copyAndAddBuffer(response.data, frag.relurl, frag.sn, this.fetcher.peerId);\n                }\n                this.fetcher.reportFlow(stats, false);\n                logger.info(`HTTP load time ${stats.tload - stats.trequest}ms`)\n                this.scheduler.loadTimeSample = stats.tload - stats.trequest;\n                onSuccess(response,stats,context);\n            };\n        }\n    }\n\n\n}\n\n\nexport default FragLoader;\n\n\n// WEBPACK FOOTER //\n// ./src/bittorrent/bt-loader.js","\nimport EventEmitter from 'events';\nimport {Events, Buffer} from 'core';\nimport {handleTSUrl} from './utils/toolFuns';\n\nclass BufferManager extends EventEmitter {\n    constructor(engine, config) {\n        super();\n\n        this.engine = engine;\n        this.config = config;\n        /* segment\n        sn: number\n        relurl: string\n        data: Buffer\n        size: string\n        fromPeerId: string\n         */\n        this._segPool = new Map();             //存放seg的Map            relurl -> segment\n        this._currBufSize = 0;                 //目前的buffer总大小\n        this.sn2Url = new Map();               //以sn查找relurl      sn -> relurl\n        this.overflowed = false;               //缓存是否溢出\n    }\n\n    get currBufSize() {\n        return this._currBufSize;\n    }\n\n    hasSegOfURL(url) {                                                     //防止重复加入seg\n        return this._segPool.has(url);\n    }\n\n    copyAndAddBuffer(data, url, sn, fromPeerId = '') {                                       //先复制再缓存\n        const handledUrl = handleTSUrl(url, this.config.tsStrictMatched);\n        let payloadBuf = Buffer.from(data);\n        let byteLength = payloadBuf.byteLength;\n        let targetBuffer = new Buffer(byteLength);\n        payloadBuf.copy(targetBuffer);\n\n        let segment = {\n            sn,\n            relurl: handledUrl,\n            data: targetBuffer,\n            size: byteLength,\n            fromPeerId\n        };\n\n        this.addSeg(segment);\n        this.sn2Url.set(sn, handledUrl);\n    }\n\n    addBuffer(sn, url, buf, fromPeerId = '') {                                             //直接缓存\n        const handledUrl = handleTSUrl(url, this.config.tsStrictMatched);\n        let segment = {\n            sn,\n            relurl: handledUrl,\n            data: buf,\n            size: buf.byteLength,\n            fromPeerId\n        };\n        this.addSeg(segment);\n        this.sn2Url.set(sn, handledUrl);\n    }\n\n    addSeg(seg) {\n        const { logger } = this.engine;\n        this._segPool.set(seg.relurl, seg);\n        // this.urlSet.add(seg.relurl);\n        this._currBufSize += parseInt(seg.size);\n        // logger.debug(`seg.size ${seg.size} _currBufSize ${this._currBufSize} maxBufSize ${this.config.maxBufSize}`);\n        while (this._currBufSize > this.config.maxBufSize) {                       //去掉多余的数据\n            const lastSeg =[...this._segPool.values()].shift();\n            logger.info(`pop seg ${lastSeg.relurl} at ${lastSeg.sn}`);\n            this._segPool.delete(lastSeg.relurl);\n            this.sn2Url.delete(lastSeg.sn);\n            this._currBufSize -= parseInt(lastSeg.size);\n            if (!this.overflowed) this.overflowed = true;\n            this.emit(Events.BM_LOST, lastSeg.sn);\n        }\n    }\n\n    getSegByURL(relurl) {\n        return this._segPool.get(relurl);\n    }\n\n    getURLbySN(sn) {\n        return this.sn2Url.get(sn);\n    }\n\n    clear() {\n        this._segPool.clear();\n        this.sn2Url.clear();\n        this._currBufSize = 0;\n    }\n\n    destroy() {\n        this.clear();\n        this.removeAllListeners();\n    }\n}\n\nexport default BufferManager;\n\n\n// WEBPACK FOOTER //\n// ./src/buffer-manager.js","import ReconnectingWebSocket from 'reconnecting-websocket';\n\nconst logTypes = {\n    debug: 0,\n    info: 1,\n    warn: 2,\n    error: 3,\n    none: 4,\n};\n\nconst typesP = ['_debugP', '_infoP', '_warnP', '_errorP'];\nconst typesU = ['_debugU', '_infoU', '_warnU', '_errorU'];\n\nclass Logger {\n    constructor(config, channel) {\n\n        this.config = config;\n        this.connected = false;\n        if (config.enableLogUpload) {\n            try {\n                this._ws = this._initWs(channel);\n            } catch (e) {\n                this._ws = null;\n            }\n        }\n        if (config.logLevel === true) {\n            config.logLevel = 'debug';\n        } else if (!(config.logLevel in logTypes) || config.logLevel === false) {\n            config.logLevel = 'none';\n        }\n        if (!(config.logUploadLevel in logTypes)) config.logUploadLevel = 'none';\n        for (let i=0;i<logTypes[config.logLevel];i++) {\n            this[typesP[i]] = noop;\n        }\n        for (let i=0;i<logTypes[config.logUploadLevel];i++) {\n            this[typesU[i]] = noop;\n        }\n        this.identifier = '';\n    }\n\n    debug(msg) {\n        this._debugP(msg);\n        this._debugU(msg);\n    }\n\n    info(msg) {\n        this._infoP(msg);\n        this._infoU(msg);\n    }\n\n    warn(msg) {\n        this._warnP(msg);\n        this._warnU(msg);\n    }\n\n    error(msg) {\n        this._errorP(msg);\n        this._errorU(msg);\n    }\n\n    _debugP(msg) {\n        console.log(msg);\n    }\n\n    _infoP(msg) {\n        console.info(msg);\n    }\n\n    _warnP(msg) {\n        console.warn(msg);\n    }\n\n    _errorP(msg) {\n        console.error(msg);\n    }\n\n    _debugU(msg) {\n        msg = `[${this.identifier} debug] > ${msg}`\n        this._uploadLog(msg);\n    }\n\n    _infoU(msg) {\n        msg = `[${this.identifier} info] > ${msg}`\n        this._uploadLog(msg);\n    }\n\n    _warnU(msg) {\n        msg = `[${this.identifier} warn] > ${msg}`\n        this._uploadLog(msg);\n    }\n\n    _errorU(msg) {\n        msg = `[${this.identifier} error] > ${msg}`\n        this._uploadLog(msg);\n    }\n\n    _uploadLog(msg) {\n        if (!this.connected) return;\n        this._ws.send(msg);\n    }\n\n    _initWs(channel) {\n        const wsOptions = {\n            maxRetries: this.config.wsMaxRetries,\n            minReconnectionDelay: this.config.wsReconnectInterval*1000\n        };\n        let ws = new ReconnectingWebSocket(this.config.logUploadAddr+`?info_hash=${window.encodeURIComponent(channel)}`, undefined, wsOptions);\n        ws.onopen = () => {\n            this.debug('Log websocket connection opened');\n            this.connected = true;\n        };\n        // ws.onmessage = (e) => {\n        //\n        //\n        // };\n        ws.onclose = () => {                                            //websocket断开时清除datachannel\n            this.warn(`Log websocket closed`);\n            this.connected = false;\n        };\n        return ws;\n    }\n}\n\nfunction noop() {\n\n}\n\nexport default Logger;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/logger.js","\nvar os = {\n    //网络类型 wifi 4g 3g 2g unknown or ''\n    getNetType: function () {\n        return ((new RegExp('nettype\\\\/(\\\\w*)').exec(_getUA()) || [, ''])[1]).toLowerCase();\n    },\n    //获取设备类型\n    getPlatform: function () {\n        if (os.isAndroid()) {\n            return 'android';\n        } else if (os.isIOS()) {\n            return 'iOS';\n        } else {\n            return 'PC';\n        }\n    },\n    isX5: function () {\n        return this.isAndroid() && /\\s(TBS|X5Core)\\/[\\w\\.\\-]+/i.test(_getUA());\n    },\n    isPC: function () {\n        return !_toNum(_platform('os ')) && !_toNum(_platform('android[/ ]'));\n    },\n    isIOS: function () {\n        return _toNum(_platform('os '));\n    },\n    isAndroid: function () {\n        return _toNum(_platform('android[/ ]'));\n    },\n    isSafari: function () {\n        return this.isIOS() && /^((?!chrome|android).)*safari/i.test(_getUA());\n    },\n};\n\nfunction _getUA() {\n    return navigator.userAgent.toLowerCase();\n}\n\nfunction _platform(os) {\n    var ver = ('' + (new RegExp(os + '(\\\\d+((\\\\.|_)\\\\d+)*)').exec(_getUA()) || [, 0])[1]);\n    // undefined < 3 === false, but null < 3 === true\n    return ver || undefined;\n}\n\nfunction _toNum(str) {\n    return parseFloat((str || \"\").replace(/\\_/g, '.')) || 0;\n}\n\nmodule.exports = os;\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/platform.js"],"sourceRoot":""}